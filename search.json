[{"title":"Intel 82599ç½‘å¡ä¸è®¤å…‰æ¨¡å—çš„è§£å†³æ–¹æ¡ˆ","path":"/2023/06/24/solution-for-sfp-modules-not-supported-by-ixgbe/","content":"é—®é¢˜æœ€è¿‘è´­ä¹°äº†ä¸€å°RH1288H V3ï¼Œæƒ³ä¸R720ä¹‹é—´æ„å»ºä¸‡å…†å†…ç½‘ï¼Œäºæ˜¯å¼„äº†ä¸¤ä¸ªHuaweiå…‰æ¨¡å—ï¼Œä¸Šæœºåå‘ç°R720æ‰¾ä¸åˆ°å…‰æ¨¡å—æ‰€åœ¨ç½‘å£ï¼Œä½†æ˜¯lspciå¯ä»¥çœ‹åˆ°ç½‘å¡è®¾å¤‡ï¼š 123root@pve-r720:~# lspci | grep 8259901:00.0 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01)01:00.1 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01) æ‰§è¡Œdmesg ï½œ grep ixgbeä»¥åå‘ç°æœ‰ä¸æ”¯æŒçš„æ¨¡å—æŠ¥é”™ åŸå› åœ¨äºixgbeé©±åŠ¨é»˜è®¤æƒ…å†µä¸‹ä»…æ”¯æŒIntelåŸå‚å…‰æ¨¡å—ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹å…‰æ¨¡å—ä¼šå¯¼è‡´ç½‘å¡é©±åŠ¨åŠ è½½å¤±è´¥ï¼Œæ’ä¸Šæ¨¡å—æ—¶ç½‘ç»œæ¥å£æ¶ˆå¤± è§£å†³æ–¹æ¡ˆä¸´æ—¶1234# å¸è½½ixgbeé©±åŠ¨root@pve-r720:~# rmmod ixgbe# ä»¥æ”¯æŒç¬¬ä¸‰æ–¹æ¨¡å—æ¨¡å¼é‡æ–°åŠ è½½ixgbeé©±åŠ¨root@pve-r720:~# modprobe ixgbe allow_unsupported_sfp=1 ä¸€åŠ³æ°¸é€¸ç¼–è¾‘grubé…ç½®æ–‡ä»¶/etc/default/grubï¼Œåœ¨GRUB_CMDLINE_LINUXé¡¹å¢åŠ ixgbe.allow_unsupported_sfp=1ï¼š æˆªå±2023-06-24 22.21.18 æ›´æ–°grubï¼š 1root@pve-r720:~# update-grub2 é‡å¯åç”Ÿæ•ˆ ç¥ææœºæ„‰å¿«ï¼","tags":["intel","82599","10Gb"]},{"title":"ä½¿ç”¨Wireguardå®ç°å¼‚åœ°ç»„ç½‘å¹¶æ„å»ºIPv6éš§é“","path":"/2023/06/02/wireguard-lan-fusion-with-ipv6-tunnel/","content":"å‰è¨€æœ€è¿‘åœ¨ç ”ç©¶Wireguardå¼‚åœ°ç»„ç½‘ï¼Œæ‰“ç®—å°†å®¶é‡Œå’Œæœºæˆ¿çš„å±€åŸŸç½‘ç»„åˆåœ¨ä¸€èµ·ã€‚åŒæ—¶æœ‹å‹æœ‰ä½¿ç”¨Wireguard IPv6ä¸Šç½‘çš„éœ€æ±‚ï¼Œå†³å®šå†åœ¨ç»„ç½‘çš„åŸºç¡€ä¸Šæ·»åŠ ä¸€ä¸ªIPv6éš§é“ã€‚ å‡†å¤‡å·¥ä½œ ä¸¤ä¸ªç½‘æ®µä¸åŒçš„å±€åŸŸç½‘ï¼ˆä¾‹å¦‚10.10.10.0/24 å’Œ 192.168.1.0/24ï¼‰ ä¸¤å°OpenWrtï¼ˆè‡³å°‘ä¸€ä¸ªæ¥å…¥å…¬ç½‘IPv6ï¼‰ ä»»æ„å®¢æˆ·ç«¯ ä¸ºæœºæˆ¿PVEæ·»åŠ NATç½‘æ¡¥PVEé»˜è®¤çš„ç½‘æ¡¥æ˜¯é‡‡ç”¨æ¡¥æ¥æ–¹å¼ï¼Œè¿™æ¬¡æˆ‘è¦ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªIPv4 &#x2F; IPv6åŒæ ˆNATç½‘æ¡¥ æ·»åŠ ç½‘æ¡¥æ·»åŠ ä¸€ä¸ªç½‘æ¡¥vmbr1ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå°†10.10.10.1é¢„ç•™ç»™OpenWrtï¼ŒIPv6 ULAåœ°å€ç»™OpenWrtè‡ªåŠ¨åˆ†é… æˆªå±2023-06-03 08.56.13 ä¸ºäº†ç»™vmbr1ç½‘æ¡¥ä¸‹çš„è®¾å¤‡åˆ†é…IPåœ°å€ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…DHCPæœåŠ¡ï¼Œè¿™é‡Œç”±äºç»„ç½‘éœ€è¦æˆ‘é€‰æ‹©å®‰è£…OpenWrt å®‰è£…OpenWrtåˆ›å»ºè™šæ‹Ÿæœºopenwrtï¼Œé…ç½®å¦‚å›¾æ‰€ç¤º æ³¨æ„ï¼šå…ˆæ·»åŠ vmbr1å†æ·»åŠ vmbr0ï¼Œè¿™æ ·OpenWrtæ‰ä¼šå°†vmbr0ï¼ˆäº’è”ç½‘ï¼‰è§†ä¸ºWANå£ æˆªå±2023-06-03 08.59.48 ä¸‹è½½OpenWrté•œåƒå¹¶å¯¼å…¥ç¡¬ç›˜ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒæˆ‘ä¸€ç¯‡æ²¡å†™å®Œçš„æ–‡ç« ï¼ˆbushi https://rickg.cn/2022/05/25/pve-openwrt/https://rickg.cn/2022/05/25/pve-openwrt/ æ¨èçš„é•œåƒï¼š https://openwrt.mpdn.fun:8443/https://openwrt.mpdn.fun:8443/ 1qm importdisk [vmid] /var/lib/vz/template/iso/bleach-plus-20230601-openwrt-x86-64-generic-squashfs-combined-efi.img local --format=qcow2 å¯¼å…¥å®Œæˆåï¼Œå¯åŠ¨OpenWrtï¼Œç¼–è¾‘/etc/config/networkï¼Œä¿®æ”¹LANå£IP æˆªå±2023-06-03 09.10.01 é‡å¯OpenWrtåï¼Œåœ¨vmbr1ç½‘æ¡¥ä¸‹ä»»æ„è™šæ‹Ÿæœºè®¿é—®10.10.10.1ï¼Œå³å¯ç™»å½•OpenWrt é…ç½®NAT6å®‰è£…å®ŒOpenWrtåï¼Œå°½ç®¡æ­¤æ—¶æˆ‘ä»¬æ‹¥æœ‰äº†IPv6 ULAåœ°å€ï¼Œä½†æœªé…ç½®NAT6ï¼Œå› æ­¤å¹¶ä¸èƒ½è®¿é—®IPv6äº’è”ç½‘ ç¼–è¾‘/etc/sysctl.d/forward.conf ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 1234net.ipv4.ip_forward=1net.ipv6.conf.all.forwarding=1net.ipv6.conf.eth1.autoconf=1net.ipv6.conf.eth1.accept_ra=2 å…¶ä¸­eth1ä¸ºWANå£æ¥å£å é‡å¯OpenWrtåï¼Œè®¿é—®10.10.10.1ï¼Œæ‰“å¼€ç½‘ç»œ-&gt;é˜²ç«å¢™-&gt;è‡ªå®šä¹‰è§„åˆ™ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 12# Enable IPv6 NATip6tables -t nat -A POSTROUTING -o eth1 -j MASQUERADE ç‚¹å‡»é‡å¯é˜²ç«å¢™åï¼Œvmbr1ä¸‹çš„IPv6è®¾å¤‡åº”è¯¥å¯ä»¥è®¿é—®IPv6äº’è”ç½‘äº† æˆªå±2023-06-03 09.31.43 é…ç½®Wireguard VPNé…ç½®å®¶ä¸­OpenWrtsshè¿æ¥åˆ°è·¯ç”±å™¨ï¼Œåˆ›å»ºå¯†é’¥ç›®å½•å¹¶è®¾å®šæ©ç ï¼š 123mkdir keyscd keys umask 077 åˆ›å»ºå¹¶æŸ¥çœ‹å¯†é’¥ï¼š 1234wg genkey &gt; openwrt-home.keycat openwrt-home.keywg pubkey &lt; openwrt-home.key &gt; openwrt-home.pubcat openwrt-home.pub æ‰“å¼€OpenWrtï¼Œç‚¹å‡»ç½‘ç»œ-&gt;æ¥å£-&gt;æ·»åŠ æ–°æ¥å£ï¼Œåç§°ä¸ºwg1ï¼Œåè®®ä¸ºWireGuard VPN æˆªå±2023-06-03 09.36.03 åˆ›å»ºåè‡ªåŠ¨æ‰“å¼€æ¥å£ç¼–è¾‘ç•Œé¢ æˆªå±2023-06-03 13.15.01 å°†ç§é’¥å¡«å…¥é…ç½®ç•Œé¢ï¼Œç›‘å¬ç«¯å£ä»»æ„ï¼Œå»ºè®®é€‰é«˜ä½ç«¯å£ï¼Œé˜²æ­¢è¢«è¿è¥å•†å¹²æ‰° IPåœ°å€ä¸€æ ï¼Œæˆ‘è¿™é‡Œé€‰ç”¨172.17.0.1/32çš„Bç±»åœ°å€ï¼Œä¸ªäººå»ºè®®ç”¨10.0.0.0/8çš„Aç±»åœ°å€ï¼Œè‡ªå®šä¹‰ç¨‹åº¦æ›´é«˜ã€‚å¯¹äºIPv6åœ°å€ï¼Œä½¿ç”¨fd00::&#x2F;8å¼€å¤´çš„æœ¬åœ°åœ°å€å³å¯ï¼Œå¦‚å›¾ä¸­çš„fd45:da8::1&#x2F;64ï¼Œé…ç½®å®Œåä¿å­˜å¹¶åº”ç”¨ã€‚ é…ç½®æœºæˆ¿OpenWrtç”Ÿæˆå…¬ç§é’¥ç­‰åŒä¸Šï¼Œä½†æ˜¯IPå¡«172.17.0.2/32å’Œfd45:da8::2/64ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š æˆªå±2023-06-03 13.26.01 é…ç½®å¯¹ç«¯ï¼ˆPeerï¼‰ç™»å…¥ä»»æ„è·¯ç”±å™¨ï¼Œç”Ÿæˆä¸€ä¸ªé¢„å…±äº«å¯†é’¥ï¼Œå¢å¼ºå®‰å…¨æ€§ï¼š 1wg genpsk è¯¥å¯†é’¥åœ¨æ‰€æœ‰ç«¯é€šç”¨ï¼Œé¡»ä¿å­˜å¥½ã€‚ åœ¨Peerså¤„ç‚¹å‡»æ·»åŠ ï¼Œå…¬é’¥å¡«å†™å¯¹æ–¹çš„ï¼ˆå¦‚å®¶é‡ŒOpenWrtå¡«å†™æœºæˆ¿å…¬é’¥ï¼‰ï¼Œé¢„å…±äº«å¯†é’¥è¾“å…¥åˆšåˆšç”Ÿæˆçš„ï¼Œç«¯ç‚¹ä¸»æœºè¾“å…¥å¯¹ç«¯IPï¼ˆè¿™é‡Œæˆ‘ä¸¤ç«¯å‡ä¸ºå®¶å®½ï¼Œå› æ­¤åšäº†DDNSï¼‰ï¼Œç«¯å£è¾“å…¥é…ç½®çš„ç«¯å£ï¼ŒæŒç»­Keep-Aliveä¸å¡«ã€‚ å¯¹äºå…è®¸çš„IPï¼Œéœ€è¦è¾“å…¥ä¸¤é¡¹ï¼Œç¬¬ä¸€é¡¹æ˜¯WireGuardçš„IPæ®µï¼Œå³172.17.0.0/24ï¼Œç¬¬äºŒé¡¹å³å¯¹æ–¹æœºå™¨æ‰€å¤„å†…ç½‘IPæ®µï¼Œå¦‚å¯¹ç«¯ä¸ºå®¶åˆ™ä¸º192.168.1.0/24ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š æˆªå±2023-06-03 13.36.24 é…ç½®å®Œåä¿å­˜å¹¶åº”ç”¨ï¼Œç‚¹å‡»WireGuardæ¥å£æ—çš„â€œè¿æ¥â€ï¼Œé‡å¯æ¥å£ã€‚ è‹¥è¦æŸ¥çœ‹æ˜¯å¦æˆåŠŸè¿æ¥ï¼Œç‚¹å‡»LuCIç•Œé¢ä¸­çš„çŠ¶æ€-&gt;WireGuardçŠ¶æ€å³å¯çœ‹åˆ°å¯¹ç«¯è¿æ¥ä¿¡æ¯ï¼š æˆªå±2023-06-03 13.39.43 æ­¤æ—¶pingä¸€ä¸‹å¯¹ç«¯å†…ç½‘æ®µçš„IPï¼Œå“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯å¾ˆæ¿€åŠ¨ï¼Ÿ æˆªå±2023-06-03 13.40.38 é…ç½®å®¢æˆ·ç«¯åˆ›å»ºå¯†é’¥å¯¹äºmacOS &#x2F; Windows &#x2F; Android &#x2F; iOSç­‰å…·æœ‰GUIç­‰å®¢æˆ·ç«¯ï¼Œç›´æ¥ç”Ÿæˆä¸€å¯¹å…¬ç§é’¥å³å¯ï¼šæˆªå±2023-06-03 17.09.05 image-20230603170949355 å¯¹äºLinuxï¼Œå‚ç…§ä¸Šæ–‡ ç¼–å†™é…ç½®æ–‡ä»¶æ·»åŠ ç©ºéš§é“ï¼Œå¡«å†™ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼š 12345678910111213[Interface]PrivateKey = [ä½ çš„ç§é’¥]Address = 172.17.0.4/32, fd45:da8::4/128DNS = 119.29.29.29, 2402:4e00::MTU = 1420[Peer]PublicKey = [æœåŠ¡ç«¯å…¬é’¥]PresharedKey = [é¢„å…±äº«å¯†é’¥]AllowedIPs = 0.0.0.0/0, ::/0Endpoint = [æœåŠ¡ç«¯IP]:ç«¯å£PersistentKeepalive = 25 å¯¹äºå…è®¸çš„IPå³AllowedIPsï¼šå¡«å†™0.0.0.0/0, ::/0å³ä»£ç†IPv4å’ŒIPv6æ‰€æœ‰æµé‡ï¼Œå…¶ä»–çš„ä¸€äº›ç¤ºä¾‹ï¼š 123456# åªéœ€è®¿é—®å†…ç½‘æ®µ10.10.10.0/24ï¼Œå…¶ä»–æµé‡ä¸èµ°WireGuardAllowedIPs = 10.10.10.0/24# å…¨å±€ä»£ç†ï¼Œåªå…è®¸IPv4æµé‡AllowedIPs = 0.0.0.0/0# å…¨å±€ä»£ç†ï¼Œåªå…è®¸IPv6æµé‡AllowedIPs = ::/0 ä¿å­˜é…ç½®æ–‡ä»¶åï¼Œåœ¨WireGuardå®¢æˆ·ç«¯ä¸­å¯¼å…¥å³å¯ï¼Œå½“ç„¶ï¼Œåœ¨æ­£å¼ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€åœ¨æœåŠ¡ç«¯ä¸­æ·»åŠ å®¢æˆ·ç«¯ä½œä¸ºå¯¹ç«¯ã€‚ é…ç½®æœåŠ¡ç«¯æ‰“å¼€OpenWrtçš„wg0æ¥å£ï¼Œæ·»åŠ ä¸€ä¸ªPeersï¼Œä½†æ˜¯è¿™æ¬¡æ— éœ€è¾“å…¥ç«¯ç‚¹ä¸»æœºå’Œç«¯å£ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¯èƒ½ä½äºå¤šå±‚NATä¹‹åï¼š æˆªå±2023-06-03 17.32.29 ä¿å­˜åï¼Œé‡å¯wg0æ¥å£ï¼Œç°åœ¨å³å¯æ‰“å¼€å®¢æˆ·ç«¯äº«å—å®‰å…¨ã€å¿«é€Ÿçš„WireGuard VPNäº†ï¼","tags":["Wireguard","å¼‚åœ°ç»„ç½‘","IPv6"]},{"title":"ä½¿ç”¨iptablesæ¥é€šè¿‡ç½‘çº¿å…±äº«ç½‘ç»œ","path":"/2023/05/31/iptables-one-wire-one-net/","content":"å‰è¨€æœ€è¿‘åœ¨è®¡åˆ’åŠ ä¸€å°æœåŠ¡å™¨ï¼Œä¸åŸæœ¬çš„R720ç»„æˆ40Gå†…ç½‘ï¼Œç„¶è€Œè·¯ç”±å™¨çš„ç½‘å£å·²ç»ä¸å¤Ÿäº†ï¼Œå¿ƒæƒ³èƒ½å¦ç›´æ¥é€šè¿‡40Gç½‘çº¿æ¥å°†R720çš„äº’è”ç½‘å…±äº«ç»™æ–°æœºå™¨ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ å‡†å¤‡å·¥ä½œ è®¡ç®—æœºä¸¤å°ï¼ˆä¸€å°è¦æœ‰åŒç½‘å¡ ç½‘çº¿ä¸€æ ¹ äº’è”ç½‘æ¥å…¥ç‚¹ä¸€ä¸ª ç”±äºä¸Šé¢çš„æˆ‘ç»Ÿç»Ÿæ²¡æœ‰ï¼ˆbushiï¼Œæ‰€ä»¥è¿™æ¬¡æŠ€æœ¯éªŒè¯æ”¾åœ¨äº†PVEä¸­è¿›è¡Œã€‚ åˆ›å»ºç½‘æ¡¥vmbr1ï¼Œæ— éœ€ç»‘å®šç‰©ç†æ¥å£ï¼Œæ¨¡æ‹Ÿä¸¤æœºé€šè¿‡ç½‘çº¿ç›¸è¿ åˆ›å»ºä¸¤å°è™šæ‹Ÿæœºï¼Œåå­—åˆ†åˆ«ä¸ºtest-networkã€test-nonetwork ï¼Œé…ç½®å¦‚ä¸‹ï¼ˆä¸²è¡Œæ¥å£å¯ä»¥å¿½ç•¥ åœ¨ä¸¤å°æœºå™¨ä¸Šå®‰è£…Debian 11ç³»ç»Ÿ é…ç½®è®¡ç®—æœºAWellï¼Œç°åœ¨æˆ‘ä»¬æ¥é…ç½®è®¡ç®—æœºAï¼Œä¹Ÿå°±æ˜¯å…±äº«ç½‘ç»œçš„æœºå™¨ é…ç½®IPåœ°å€ç¼–è¾‘/etc/network/interfaces ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ 12345678910auto ens18iface ens18 inet dhcpallow-hotplug ens19iface ens19 inet static address 172.16.0.1/24 gateway 172.16.0.1iface ens19 inet6 static address 2001:db8::1234/64 gateway 2001:db8::1234 ens18 å³è¿æ¥äº’è”ç½‘çš„ç«¯å£ï¼Œens19 å³ä¸è®¡ç®—æœºBç›¸è¿çš„ç«¯å£ ä»ä¸Šé¢çš„å†…å®¹å¯ä»¥å¾—çŸ¥ï¼Œæˆ‘ä»¬è¦å°†ens19ç«¯å£çš„IPv4åœ°å€é…ç½®ä¸º172.16.0.1ï¼Œå­ç½‘æ©ç ä¸º255.255.255.0ï¼Œé»˜è®¤ç½‘å…³ä¸ºæœ¬æœºIPï¼›IPv6åœ°å€ä¸º2001:db8::1234ï¼Œå­ç½‘æ©ç ä¸º64ï¼Œé»˜è®¤ç½‘å…³åŒæ ·ä¸ºæœ¬æœºIPã€‚ é…ç½®iptablesæ¥ä¸‹æ¥æ˜¯é‡å¤´æˆï¼Œæ²¡æœ‰iptablesï¼Œå°±ç®—ä¸¤æœºçš„IPæ­£ç¡®ï¼Œè®¡ç®—æœºBä¹Ÿæ— æ³•è®¿é—®äº’è”ç½‘ã€‚ å®‰è£…iptablesï¼š 1sudo apt install iptables è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š 123456789# IPv4 NATsudo iptables -t nat -A POSTROUTING -o ens18 -j MASQUERADEsudo iptables -A FORWARD -i ens18 -o ens19 -m state --state RELATED,ESTABLISHED -j ACCEPTsudo iptables -A FORWARD -i ens19 -o ens18 -j ACCEPT# IPv6 NATsudo ip6tables -t nat -A POSTROUTING -o ens18 -j MASQUERADEsudo ip6tables -A FORWARD -i ens18 -o ens19 -m state --state RELATED,ESTABLISHED -j ACCEPTsudo ip6tables -A FORWARD -i ens19 -o ens18 -j ACCEPT è¿™é…ç½®äº†ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ ä¿å­˜iptableså®‰è£…iptables-persistentï¼š 1sudo apt-get install iptables-persistent å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ˜¯å¦ä¿å­˜iptablesï¼Œé€‰æ‹©Yeså³å¯ æ—¥åè‹¥è¦ä¿å­˜åˆšè¾“å…¥çš„iptablesï¼Œé”®å…¥sudo netfilter-persistent saveå³å¯ å¯ç”¨IPè½¬å‘ç°åœ¨è®©æˆ‘ä»¬è¿›è¡Œæœ€åä¸€æ­¥ï¼šæ‰“å¼€IPv4å’ŒIPv6çš„è½¬å‘ ç¼–è¾‘/etc/sysctl.conf ï¼Œ æ‰¾åˆ°ä»¥ä¸‹ä¸¤è¡Œï¼š 12#net.ipv4.ip_forward=1#net.ipv6.conf.all.forwarding=1 åˆ†åˆ«å°†å…¶å–æ¶ˆæ³¨é‡Šï¼ŒåŒæ—¶åœ¨æ–‡ä»¶å°¾éƒ¨æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š 12net.ipv6.conf.ens18.autoconf=1net.ipv6.conf.ens18.accept_ra=2 å…¶ä¸­ens18ä¸ºäº’è”ç½‘ç«¯å£å·ï¼Œç”±äºIPv6è½¬å‘çš„å¯ç”¨ä¼šå…¨å±€ç¦ç”¨SLAACè·å–IPv6åœ°å€ï¼Œè¿™ä¸¤è¡Œå°†é‡æ–°å¯ç”¨åœ¨è¯¥ç«¯å£ä¸Šçš„SLAACåŠŸèƒ½ã€‚ ä¿å­˜æ–‡ä»¶ï¼Œé‡æ–°å¯åŠ¨è®¡ç®—æœºï¼Œè®¡ç®—æœºAçš„é…ç½®éƒ¨åˆ†å°±å®Œæˆäº†ã€‚ é…ç½®è®¡ç®—æœºBè®¡ç®—æœºBçš„é…ç½®éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®IPå’Œé»˜è®¤ç½‘å…³å³å¯ ç¼–è¾‘/etc/network/interfaces ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 1234567auto ens18iface ens18 inet static address 172.16.0.2/24 gateway 172.16.0.2iface ens18 inet6 static address 2001:db8::5678/64 gateway 2001:db8::1234 ä¿å­˜åé‡å¯è®¡ç®—æœºï¼Œå°±å¯ä»¥æŸ¥çœ‹å®é™…æ•ˆæœäº†ã€‚ æµ‹è¯•ifconfigæˆªå±2023-05-31 15.33.21 IPv4 Pingæˆªå±2023-05-31 15.32.05 IPv6 Pingæˆªå±2023-05-31 15.31.25 Speedtestæˆªå±2023-05-31 15.37.40 ç¼ºç‚¹å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§åŸºäºNATçš„ä¸Šç½‘æ–¹å¼çš„ç¼ºç‚¹åœ¨äºæ²¡æœ‰ç‹¬ç«‹çš„IPåœ°å€ã€‚ç”±äºä¸Šæ¸¸è®¡ç®—æœºæ— æ³•è·å¾—IPv6å‰ç¼€ï¼Œæœ¬æœºä¹Ÿæ— æ³•è·å¾—å…¬ç½‘IPv6åœ°å€ï¼Œå¯¹äºä¸€äº›éœ€è¦å…¬ç½‘IPçš„æœåŠ¡ï¼ˆä¾‹å¦‚BTï¼‰ä¸æ˜¯å¾ˆå‹å¥½ã€‚åŒæ—¶ï¼ŒNATä¼šé™ä½ç½‘ç»œæ€§èƒ½ã€‚","tags":["iptables","ç½‘ç»œ"]},{"title":"NASä»å…¥é—¨åˆ°Boomâ‘¡ â€”â€” å®‰è£…Jellyfinå¹¶é…ç½®ç¡¬è§£","path":"/2023/02/27/nas-from-entry-to-boom-2/","content":"å‰è¨€å®‰è£…å®ŒPortainerä»¥åï¼Œåˆ™æ˜¯å®‰è£…åª’ä½“æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†å¼€æºã€å…è´¹çš„Jellyfinï¼Œè€Œå®‰è£…æ–¹å¼åˆ™é‡‡ç”¨ç®€å•æ–¹ä¾¿çš„docker-composeã€‚ å¦‚ä½•åœ¨Portainerä¸­ä½¿ç”¨docker-composeè®¿é—®Portaineråå°ï¼Œç‚¹å‡»local image-20230227101834770 ç‚¹å‡»å·¦ä¾§çš„Stacks image-20230227101907477 ç‚¹å‡»Add stack image-20230227101958786 å¦‚å›¾æ‰€ç¤º image-20230227102126435 æœ€åç‚¹å‡»åº•éƒ¨çš„Deploy the stackå³å¯éƒ¨ç½²å®¹å™¨ (NVIDIAä¸“å±) é…ç½®nvidia-docker-toolkitå¯¹äºNVIDIA GPUï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ç‚¹å°å°çš„è½¯ä»¶åŒ…æ‰èƒ½ä½¿å®ƒåœ¨dockerå®¹å™¨é‡Œå·¥ä½œ å‚ç…§ï¼šInstallation Guide â€” NVIDIA Cloud Native Technologies documentation æˆ‘ä»¬ç›´æ¥ä½¿ç”¨å®˜æ–¹çš„æŒ‡ä»¤ï¼š 12345distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \\ &amp;&amp; curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\ &amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \\ sed &#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27; | \\ sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list ç„¶åå®‰è£…nvidia-container-toolkitï¼š 12sudo apt-get updatesudo apt-get install -y nvidia-container-toolkit é…ç½®docker-composeè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šé…ç½®æ–‡ä»¶ï¼š ä½¿ç”¨NVENC1234567891011121314151617181920212223242526272829version: &quot;3&quot;services: jellyfin: image: nyanmisaka/jellyfin:latest # ä½¿ç”¨ä¸­å›½ç‰¹ä¾›ç‰ˆé•œåƒï¼Œå…¼å®¹æ€§æ›´å¥½ container_name: jellyfin environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai - JELLYFIN_PublishedServerUrl=192.168.1.3 # è¿™é‡Œæ˜¯ä½ Jellyfinçš„åœ°å€ - NVIDIA_DRIVER_CAPABILITIES=all # NVIDIAä¸“å±é…ç½®é¡¹ - NVIDIA_VISIBLE_DEVICES=all # NVIDIAä¸“å±é…ç½®é¡¹ volumes: # volumesæŒ‰éœ€é…ç½® - /path_to_your_config:/config - /path_to_your_tvshows:/data/tvshows - /path_to_your_movies:/data/movies - /path_to_your_animes:/data/animes ports: - 8096:8096 # httpè®¿é—®ç«¯å£ - 8920:8920 # httpsè®¿é—®ç«¯å£ - 7359:7359/udp - 1900:1900/udp network_mode: bridge deploy: # ä½¿ç”¨NVIDIA GPUçš„è¿™æ ·è®¾ç½® resources: reservations: devices: - capabilities: [gpu] restart: unless-stopped ä½¿ç”¨Video Acceleration API (VAAPI)123456789101112131415161718192021222324version: &quot;3&quot;services: jellyfin: image: nyanmisaka/jellyfin:latest # ä½¿ç”¨ä¸­å›½ç‰¹ä¾›ç‰ˆé•œåƒï¼Œå…¼å®¹æ€§æ›´å¥½ container_name: jellyfin environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai - JELLYFIN_PublishedServerUrl=192.168.1.3 # è¿™é‡Œæ˜¯ä½ Jellyfinçš„åœ°å€ volumes: # volumesæŒ‰éœ€é…ç½® - /path_to_your_config:/config - /path_to_your_tvshows:/data/tvshows - /path_to_your_movies:/data/movies - /path_to_your_animes:/data/animes ports: - 8096:8096 # httpè®¿é—®ç«¯å£ - 8920:8920 # httpsè®¿é—®ç«¯å£ - 7359:7359/udp - 1900:1900/udp network_mode: bridge devices: - /dev/dri:/dev/dri restart: unless-stopped é…ç½®å®Œæˆåï¼Œå¦‚æœä½ çš„æ˜¾å¡æ²¡æœ‰é—®é¢˜ï¼Œdockerå®¹å™¨åº”è¯¥å¾ˆå¿«ä¼šéƒ¨ç½²å®Œæˆ æ²¡æœ‰Portainerï¼Ÿæ²¡æœ‰Portainerï¼Ÿä¸å–œæ¬¢docker-composeï¼Ÿæ²¡å…³ç³»ï¼Œæœ¬éƒ¨åˆ†å°†ä½¿ç”¨ä¼ ç»Ÿdocker-cliéƒ¨ç½²Jellyfin ç›¸å…³æ¡ç›®æ³¨é‡Šè¯·çœ‹ä¸Šä¸€æ®µ ä½¿ç”¨NVENC123456789101112131415161718docker run -d \\ --name=jellyfin \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e JELLYFIN_PublishedServerUrl=192.168.0.5 \\ -e NVIDIA_DRIVER_CAPABILITIES=all \\ -e NVIDIA_VISIBLE_DEVICES=all \\ --gpus all \\ -p 8096:8096 \\ -p 8920:8920 \\ -p 7359:7359/udp \\ -p 1900:1900/udp \\ -v /path/to/library:/config \\ -v /path/to/tvseries:/data/tvshows \\ -v /path/to/movies:/data/movies \\ --restart unless-stopped \\ nyanmisaka/jellyfin:latest ä½¿ç”¨Video Acceleration API (VAAPI)12345678910111213141516docker run -d \\ --device=/dev/dri:/dev/dri \\ --name=jellyfin \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e JELLYFIN_PublishedServerUrl=192.168.0.5 \\ -p 8096:8096 \\ -p 8920:8920 \\ -p 7359:7359/udp \\ -p 1900:1900/udp \\ -v /path/to/library:/config \\ -v /path/to/tvseries:/data/tvshows \\ -v /path/to/movies:/data/movies \\ --restart unless-stopped \\ nyanmisaka/jellyfin:latest é…ç½®Jellyfinç™»å½•Jellyfinï¼Œè¯­è¨€ã€åœ°åŒºé€‰ä¸­æ–‡ï¼ˆè¿™é‡Œæˆ‘å·²ç»é…ç½®è¿‡æ‰€ä»¥ä¸èƒ½å†æ¼”ç¤ºäº†ï¼‰ï¼Œç„¶åç‚¹å‡»å·¦ä¸Šè§’çš„â€œä¸‰æ¡æ â€ï¼Œå†ç‚¹å‡»æ§åˆ¶å°ï¼Œå¦‚å›¾æ‰€ç¤º image-20230227100358116 ç„¶åç‚¹å‡»æ’­æ”¾ï¼Œå¦‚å›¾æ‰€ç¤º image-20230227100529209 å¦‚æœä½ æ˜¯NVIDIA GPUï¼ŒæŒ‰å¦‚å›¾æ‰€ç¤ºé…ç½®å°±å¯ä»¥äº† image-20230227100622041 æ³¨ï¼šè¿™é‡Œç¡¬ä»¶è§£ç æ ¼å¼å»ºè®®å’Œä½ GPUæ”¯æŒè§£ç çš„æ ¼å¼ç›¸åŒï¼ŒNå¡å¯ä»¥å‚è€ƒæ­¤é“¾æ¥ï¼šhttps://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new å¦‚æœä½ æ˜¯Intelæ ¸æ˜¾æˆ–è€…æ˜¯æƒ³ä½¿ç”¨VAAPIï¼Œåˆ™æŒ‰ä»¥ä¸‹é…ç½® image-20230227100853142 æ•ˆæœé…ç½®å®Œæˆåä¿å­˜ï¼Œæˆ‘ä»¬æ‰“å¼€ä¸€ä¸ª4K HDRè§†é¢‘çœ‹çœ‹æ•ˆæœ image-20230227101511721 å¯ä»¥çœ‹åˆ°è§†é¢‘å¯ä»¥è¾ƒä¸ºæµç•…çš„æ’­æ”¾ï¼ˆå¦‚æœä½¿ç”¨T400æˆ–è€…æ›´å¥½çš„æ˜¾å¡ï¼Œè½¬ç å¸§ç‡ä¼šæ›´é«˜ï¼‰","tags":["nas","jellyfin"]},{"title":"ä½¿ç”¨Cloudflare Zero Trustè¿›è¡Œå†…ç½‘ç©¿é€","path":"/2023/02/25/tutorial-cloudflare-zero-trust/","content":"ä»‹ç»Zero Trustæ˜¯Cloudflareå…¬å¸æ¨å‡ºçš„ä¸€é¡¹ä¼ä¸šçº§è™šæ‹Ÿç½‘å…³æœåŠ¡ï¼Œå®˜æ–¹å¯¹å…¶ä»‹ç»å¦‚ä¸‹ï¼š Cloudflare Zero TrustCloudflare Zero Trustæ˜¯ä¸€ä¸ªå®‰å…¨æ¡†æ¶ï¼Œæ—¨åœ¨é€šè¿‡éªŒè¯å’Œä¿æŠ¤æ‰€æœ‰çš„ç½‘ç»œè®¿é—®ï¼ˆæ— è®ºç”¨æˆ·æˆ–åœ°ç‚¹ï¼‰æ¥ä¿æŠ¤ç»„ç»‡å…å—ç½‘ç»œå¨èƒã€‚è¯¥æ¡†æ¶åŸºäº â€œä¸ä¿¡ä»»ä»»ä½•äºº â€œçš„åŸåˆ™ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰è®¿é—®è¯·æ±‚åœ¨è¢«æ‰¹å‡†ä¹‹å‰å¿…é¡»ç»è¿‡éªŒè¯å’Œæˆæƒã€‚ Zero Trust â€œæ—¨åœ¨æä¾›ä¸€ç§å…¨é¢çš„å®‰å…¨æ–¹æ³•ï¼Œæ¶µç›–ä¸€ä¸ªç»„ç»‡çš„ç½‘ç»œå’ŒåŸºç¡€è®¾æ–½çš„æ‰€æœ‰æ–¹é¢ã€‚è¿™åŒ…æ‹¬ç”¨æˆ·è®¤è¯ã€è®¾å¤‡å®‰å…¨ã€ç½‘ç»œåˆ†æ®µå’Œåº”ç”¨å®‰å…¨ã€‚ Zero Trustçš„ä¸»è¦å¥½å¤„ä¹‹ä¸€æ˜¯å®ƒèƒ½å¤Ÿæä¾›ç»†åŒ–çš„è®¿é—®æ§åˆ¶ï¼Œä½¿ä¼ä¸šèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·è§’è‰²å’Œæƒé™é™åˆ¶å¯¹æ•æ„Ÿèµ„æºçš„è®¿é—®ã€‚è¿™å¯ä»¥é€šè¿‡æœ€å°åŒ–æ”»å‡»é¢å’Œé™åˆ¶ä»»ä½•æ½œåœ¨æ¼æ´çš„å½±å“æ¥å¸®åŠ©é˜²æ­¢æ•°æ®æ³„éœ²å’Œå…¶ä»–å®‰å…¨äº‹ä»¶ã€‚ Cloudflare Zero Trustæ˜¯ä¸€é¡¹åŸºäºäº‘çš„æœåŠ¡ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸ç»„ç»‡çš„ç°æœ‰å®‰å…¨åŸºç¡€è®¾æ–½é›†æˆã€‚å®ƒçš„è®¾è®¡å…·æœ‰å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼Œå…è®¸ä¼ä¸šå®šåˆ¶æ¡†æ¶ï¼Œä»¥æ»¡è¶³å…¶ç‰¹å®šéœ€æ±‚å’Œè¦æ±‚ã€‚ ï¼ˆé€šè¿‡DeepLç¿»è¯‘ï¼‰ æœ¬æ–‡æˆ‘ä»¬å°†ä½¿ç”¨å…¶ä¸­çš„TunnelåŠŸèƒ½ï¼Œä»å¤–ç½‘è®¿é—®å®¶ä¸­å†…ç½‘çš„æœåŠ¡ã€‚å¯¹äºå…¶WARPä»£ç†åŠŸèƒ½ï¼Œæœ¬æ–‡ä¸åšè®¨è®ºã€‚ ä½ éœ€è¦ä¸€ä¸ªåŠŸèƒ½æ­£å¸¸çš„Cloudflareè´¦æˆ· ä¸€ä¸ªæœ‰æ•ˆçš„ä»˜æ¬¾æ–¹å¼ï¼ˆVisa / Mastercard /Paypalï¼‰ ä¸€ä¸ªç»‘å®šåœ¨Cloudflareä¸‹çš„åŸŸå å¯ç”¨Zero Trust è®¿é—®https://one.dash.cloudflare.com é€‰æ‹©Freeè®¡åˆ’ ç»‘å®šä»˜æ¬¾æ–¹å¼å¹¶å¡«å†™è´¦å•ä¿¡æ¯ ä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œä½ å°†ä¼šçœ‹åˆ°Zero Trustçš„æ§åˆ¶é¢æ¿ image-20230225191137594 é…ç½®å†…ç½‘ç©¿é€åˆ›å»ºéš§é“ç‚¹å‡»Access -&gt; Tunnelsï¼Œç‚¹å‡»Create a tunnelåˆ›å»ºä¸€ä¸ªéš§é“ image-20230225191410406 è¾“å…¥åç§°åç»§ç»­ï¼Œæç¤ºå®‰è£…connector image-20230225193025132 è¿™é‡Œä»¥Debian 64-bitå’ŒWindowsä¸ºä¾‹ å®‰è£…connectorï¼ˆDebianï¼‰é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1curl -L --output cloudflared.deb https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb &amp;&amp; sudo dpkg -i cloudflared.deb è‹¥è®¿é—®github.comè¿‡æ…¢å¯åœ¨https://å‰é¢æ·»åŠ https://ghproxy.com/ è€Œåï¼š 1sudo cloudflared service install [ä½ çš„Token] è‹¥è¿è¡Œæ­¤å‘½ä»¤æ—¶å‡ºé”™ image-20230225192231356 åˆ™æ‰§è¡Œï¼š 1sudo cloudflared service uninstall è€Œåé‡æ–°æ‰§è¡Œcloudflared service installä¸€è¡Œå³å¯ å®‰è£…connectorï¼ˆWindowsï¼‰ä¸‹è½½https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.msiå¹¶å®‰è£… åœ¨ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œçš„cmd &#x2F; Powershellä¸­é”®å…¥ï¼š 1cloudflare service install [ä½ çš„Token] è¿›è¡Œå†…ç½‘ç©¿é€æŒ‰ç…§å¦‚å›¾æ‰€ç¤ºè¿›è¡Œé…ç½®å³å¯ image-20230225193655754 é…ç½®å®Œæˆåï¼Œé€šè¿‡https://[ä½ çš„å­åŸŸå].[ä½ çš„åŸŸå]/[ä½ çš„è®¿é—®è·¯å¾„(å¦‚æœæœ‰çš„è¯)]å³å¯è®¿é—®å†…ç½‘æœåŠ¡ é™„ï¼šå…³äºå¯¹å†…ç½‘HTTPSæœåŠ¡çš„ç‰¹æ®Šé…ç½®ç”±äºå†…ç½‘httpsæœåŠ¡è¯ä¹¦ä¸€èˆ¬ä¸ºæœªå—ä¿¡ä»»è¯ä¹¦ï¼Œè‹¥ç›´æ¥ç»‘å®šåˆ°åŸŸåï¼Œè®¿é—®æ—¶ä¼šæç¤ºBad Gatewayï¼Œå› æ­¤éœ€è¦å¯¹ç©¿é€çš„HTTPSåšä¸€äº›é…ç½® æ‰“å¼€Tunnelsï¼Œç‚¹å‡»éš§é“æ—çš„Configureè¿›å…¥é…ç½®ç•Œé¢ï¼Œé€‰æ‹©Public Hostname image-20230225194302124 é€‰æ‹©ä½ è¦ä¿®æ”¹çš„åŸŸåï¼Œç‚¹å‡»Edit image-20230225194404224 é€‰æ‹©Additional application settings -&gt; TLSï¼Œå°†No TLS Verifyä¸€é¡¹å¯ç”¨ image-20230225194534026 ä¿å­˜åå³å¯æ­£å¸¸è®¿é—®","tags":["å†…ç½‘ç©¿é€","Cloudflare"]},{"title":"NASä»å…¥é—¨åˆ°Boomâ‘  â€”â€” åŸºç¡€ç¯å¢ƒçš„é…ç½®","path":"/2023/02/14/nas-from-entry-to-boom-1/","content":"å‰è¨€æœ€è¿‘åœ¨ç©PTï¼Œå¤§é‡çš„ä¸‹è½½ä½¿å¾—æˆ‘ç¡¬ç›˜ä¸å ªé‡è´Ÿï¼Œäºæ˜¯æ”¹é€ å®¶é‡Œçš„AIOæœåŠ¡å™¨ä¾¿æä¸Šäº†æ—¥ç¨‹ã€‚å› åœ¨åˆ·PTæ—¶æœ‰è§‚çœ‹å½±ç‰‡è½¬ç çš„éœ€æ±‚ï¼Œé‚é€‰è´­HC320 8Tä¸€å—ï¼ŒQuadro P400 2Gä¸€å¼ ã€‚æ€»ä½“é…ç½®å¦‚ä¸‹ï¼š Type Name CPU Xeon X3440 @ 2.53 GHz ä¸»æ¿ Supermicro X8SIL-V å†…å­˜ Kingston ECC UDIMM 2Rx8 8GB æ˜¾å¡ NVIDIA Quadro P400 2GB SSD Kingston UV400 HDD Western Digital HC320 8TB ä¸ºä½•é€‰æ‹©P400? å‚ç…§ï¼šhttps://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new æ ¹æ®nvæœ€æ–°çš„è¡¨æ ¼æ˜¾ç¤ºï¼ŒP400æ‹¥æœ‰3è·¯NVENCç¼–ç ï¼ˆç”šè‡³å¯ä»¥ç ´è§£ï¼‰ï¼Œæ”¯æŒH.264ï¼ŒH.265 10-bitç­‰æ ¼å¼ï¼ŒåŒæ—¶å¯¹ç¼–ç ä¹Ÿæœ‰è¾ƒå¥½çš„æ”¯æŒï¼Œé‡ç‚¹æ˜¯æ‹†æœºP400åªè¦ï¿¥350ï¼Œåœ¨ä¸€ä¼—è§£ç å¡ä¸­æ˜¾å¾—éå¸¸å®æƒ ã€‚ ç³»ç»Ÿå®‰è£… ç”±äºç³»ç»Ÿå·²ç»å®‰è£…å¥½äº†ï¼Œè¿™é‡Œä»¥è™šæ‹Ÿæœºä½œä¸ºæ¼”ç¤º åœ¨https://proxmox.com/en/downloadsä¸‹è½½å®‰è£…é•œåƒï¼Œç”¨Rufus &#x2F; etcheråˆ»å…¥Uç›˜ ä»å®‰è£…é•œåƒå¯åŠ¨ï¼ŒåŒæ„ç”¨æˆ·åè®®ï¼Œé€‰æ‹©å®‰è£…ç£ç›˜ image-20230214201346369 é€‰æ‹©æ­£ç¡®çš„æ—¶åŒº image-20230214201448024 é…ç½®å¯†ç  image-20230214201520389 é…ç½®IPåœ°å€ image-20230214201612459 å®‰è£…å®Œæˆåé‡å¯ï¼Œæµè§ˆå™¨è®¿é—®https://[ä½ é…ç½®çš„IP]:8006è¿›å…¥PVEç®¡ç†ç•Œé¢ åˆ é™¤local-lvmå¹¶åˆå¹¶PVEåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šå°†ç³»ç»Ÿç›˜åˆ†ä¸ºlocalå’Œlocal-lvmä¸¤ä¸ªåˆ†åŒºï¼Œåœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™å¾€å¾€å…¶ä¸­ä¸€ä¸ªä¸å¤Ÿç”¨äº†å¦ä¸€ä¸ªè¿˜å¾ˆç©ºçš„æƒ…å†µï¼Œä¸€èˆ¬æ¥è¯´åœ¨å®‰è£…å®Œæˆåå°†local-lvmåˆå¹¶å…¥localï¼Œæ–¹ä¾¿è‡ªå·±ç®¡ç† ä»¥rootç™»å½•åå°ï¼Œç‚¹å‡»å·¦è¾¹çš„èŠ‚ç‚¹ï¼Œé€‰æ‹©Shellï¼Œé”®å…¥ 1lvremove pve/data è¾“å…¥yç¡®è®¤ image-20230214202932879 é”®å…¥ 1lvextend -l +100%FREE -r pve/root image-20230214202946857 åœ¨æ•°æ®ä¸­å¿ƒ - å­˜å‚¨ä¸­åˆ é™¤local-lvmï¼Œå¹¶ç¼–è¾‘localï¼Œåœ¨å†…å®¹ä¸€é¡¹ä¸­å‹¾é€‰æ‰€æœ‰å¯é€‰é¡¹ã€‚ image-20230214203203190 image-20230214203243004 é…ç½®HDDç‚¹å‡»å·¦ä¾§çš„èŠ‚ç‚¹ï¼Œé€‰æ‹©ç£ç›˜ image-20230214203357076 é€‰æ‹©/dev/sdbï¼Œç‚¹å‡»ä½¿ç”¨GPTåˆå§‹åŒ–ç£ç›˜ ä½¿ç”¨zfsç‚¹å‡»ZFS - åˆ›å»ºï¼šZFSï¼Œè¾“å…¥åç§°ï¼Œé€‰æ‹©è®¾å¤‡ï¼Œåˆ›å»ºå®Œæˆ image-20230214203913553 ä¸ä½¿ç”¨zfsç‚¹å‡»ç›®å½• - åˆ›å»ºï¼šç›®å½•ï¼Œè¾“å…¥åç§°ï¼Œé€‰æ‹©æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ›å»ºå®Œæˆ image-20230214204017067 é…ç½®è½¯ä»¶æºæ›¿æ¢aptè½¯ä»¶æºæ›¿æ¢å‰å»ºè®®å…ˆæ›´æ–°ä¸‹è¯ä¹¦ï¼Œå¦åˆ™å¯èƒ½ç”±äºè¯ä¹¦ä¸å¯ç”¨å¯¼è‡´ https æ— æ³•ä½¿ç”¨ï¼Œè¿›è€Œæ— æ³•ä¸‹è½½æ‰€æœ‰è½¯ä»¶ 1apt install apt-transport-https ca-certificates ç¼–è¾‘/etc/apt/sources.list å°†åŸæœ‰å†…å®¹æ›¿æ¢ä¸ºï¼š 123456789101112deb https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-freedeb-src https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-freedeb https://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-freedeb-src https://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-freedeb https://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-freedeb-src https://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-freedeb https://mirrors.ustc.edu.cn/debian-security bullseye-security main contrib non-freedeb-src https://mirrors.ustc.edu.cn/debian-security bullseye-security main contrib non-free ç¦ç”¨PVEä¼ä¸šæºç¼–è¾‘/etc/apt/sources.list.d/pve-enterprise.listï¼Œå°†å…¶ä¸­å†…å®¹æ›¿æ¢ä¸ºå¦‚ä¸‹ä»¥ç¦ç”¨ä¼ä¸šæºï¼š 1deb https://mirrors.ustc.edu.cn/proxmox/debian bullseye pve-no-subscription ä¿®æ”¹LXCå®¹å™¨æºç¼–è¾‘/usr/share/perl5/PVE/APLInfo.pmï¼Œå°†ç¬¬200è¡Œä¸­http://download.proxmox.com/imagesæ›¿æ¢ä¸ºhttps://mirrors.ustc.edu.cn/proxmox/imageså³å¯ï¼Œé‡å¯pvedaemonæœåŠ¡åç”Ÿæ•ˆï¼š 1systemctl restart pvedaemon.service é…ç½®æ˜¾å¡å‰ç½®å·¥ä½œæŸ¥çœ‹æœºå™¨ä¸Šè¯†åˆ«åˆ°çš„NVIDIA GPU 1lspci | grep -i nvidia image-20230214211305042 å®‰è£…å†…æ ¸å¤´æ–‡ä»¶ 12345# æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·root@pve-sample:~# uname -r5.15.74-1-pve# å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„å¤´æ–‡ä»¶root@pve-sample:~# apt install pve-headers-5.15.74-1-pve å®‰è£…ç¼–è¯‘ç¯å¢ƒ 1apt install gcc make ç¦ç”¨å¼€æºé©±åŠ¨Linuxé»˜è®¤ä¼šè‡ªå¸¦ä¸€ä¸ªnvå¼€æºé©±åŠ¨ï¼ˆnouveauï¼‰ï¼Œæ­¤é©±åŠ¨ä¸å®˜æ–¹é©±åŠ¨å†²çªï¼Œå¿…é¡»å°†å…¶ç¦ç”¨ã€‚ æŸ¥çœ‹æ˜¯å¦åœ¨ä½¿ç”¨nouveauï¼š 1lsmod | grep nouveau å¦‚æœ‰ä½¿ç”¨ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ç¦ç”¨ï¼š 1nano /etc/modprobe.d/blacklist-nouveau.conf å†™å…¥ä»¥ä¸‹å†…å®¹åä¿å­˜é€€å‡ºï¼š 12blacklist nouveauoptions nouveau modeset=0 æ›´æ–°å†…æ ¸initramfsæ–‡ä»¶ï¼š 1update-initramfs -u é‡å¯åç”Ÿæ•ˆã€‚å¯ä»¥è¾“å…¥lsmod | grep nouveauéªŒè¯ å®‰è£…å®˜æ–¹é©±åŠ¨ ä¸‹è½½åœ°å€ï¼šhttps://www.nvidia.cn/Download/index.aspx?lang=cn å‰å¾€nvidiaå®˜ç½‘ä¸‹è½½é©±åŠ¨ image-20230214212406811 ä¸‹è½½å¹¶å®‰è£…ï¼š 123wget https://cn.download.nvidia.com/XFree86/Linux-x86_64/525.89.02/NVIDIA-Linux-x86_64-525.89.02.runchmod +x NVIDIA-Linux-x86_64-525.89.02.run./NVIDIA-Linux-x86_64-525.89.02.run ä¸€è·¯å›è½¦å³å¯ å®‰è£…å®Œæ¯•åï¼Œé‡å¯æœåŠ¡å™¨ï¼Œè¾“å…¥nvidia-smiæŸ¥çœ‹ä¿¡æ¯ï¼š image-20230214212708263 ç ´è§£ç¼–ç çº¿ç¨‹æ•°é™åˆ¶åœ¨ä¸Šé¢çš„è¡¨æ ¼ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œä¸‡æ¶çš„é»„ğŸ¶ï¼ˆf**k u nvidiaï¼‰å°†æ‰€æœ‰æ¶ˆè´¹çº§æ˜¾å¡å’Œä½ç«¯ä¸“ä¸šå¡çš„ç¼–ç çº¿ç¨‹æ•°é™åˆ¶åœ¨3ä¸ªçº¿ç¨‹ï¼ˆ4090ä¹Ÿä¸èƒ½åŒæ—¶å¼€4ä¸ªç¼–ç ä»»åŠ¡ï¼‰ã€‚æ‰€å¹¸æœ‰å¤§ç¥å¼€å‘å‡ºäº†ç ´è§£å·¥å…·ï¼Œå¯ä»¥ä¸€é”®è§£é™¤é»„ğŸ¶çš„é™åˆ¶ã€‚ é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/keylase/nvidia-patch 123wget https://ghproxy.com/https://raw.githubusercontent.com/keylase/nvidia-patch/master/patch.shchmod +x patch.sh./patch.sh ç ´è§£å®Œæˆåï¼Œè¿è¡Œnvidia-smiæ£€æŸ¥GPUå’Œé©±åŠ¨æ˜¯å¦æœ‰é”™è¯¯ã€‚æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ffmpegæ¥æµ‹è¯•æ˜¯å¦å¯ä»¥æ— é™åˆ¶ç¼–ç ï¼š 123456ffmpeg -y -vsync 0 -hwaccel cuda -hwaccel_output_format cuda \\-f lavfi -i testsrc -t 50 \\-vf hwupload -c:a copy -c:v h264_nvenc -b:v 4M -f null - \\-vf hwupload -c:a copy -c:v h264_nvenc -b:v 1M -f null - \\-vf hwupload -c:a copy -c:v h264_nvenc -b:v 8M -f null - \\-vf hwupload -c:a copy -c:v h264_nvenc -b:v 6M -f null - image-20230214214429533 æ‰“å¼€é©±åŠ¨æŒä¹…æ¨¡å¼ å‚è€ƒï¼šhttps://www.reddit.com/r/PleX/comments/q0cbh9/quadro_p400_transcoding_information/ è¿™å°†ä½¿GPUé©±åŠ¨é•¿æ—¶é—´åŠ è½½ï¼Œå¯¹äºæˆ‘çš„P400ï¼Œå®æµ‹å¯ä»¥åœ¨æ’­æ”¾4K HDRè§†é¢‘æ—¶æ›´æµç•…ï¼ˆä¸å¦‚è¯´åŸæ¥æ’­æ”¾æ—¶å°±ä¸€å¡ä¸€å¡çš„ï¼‰ï¼š 1nvidia-smi -pm 1 image-20230214214221730 å®‰è£…è½¯ä»¶zshå®‰è£…zshzshä½œä¸ºä¸€ä¸ªæå…¶å¥½ç”¨çš„shellï¼Œæ˜¯å¿…é¡»å®‰è£…çš„ï¼ˆ 12345678# å®‰è£… Zshapt install zsh# å°† Zsh è®¾ç½®ä¸ºé»˜è®¤ Shellchsh -s /bin/zsh# å®‰è£… Oh My Zshwget https://ghproxy.com/https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh é…ç½®zshå¿…å¤‡æ’ä»¶zsh-autosuggestionså†å²å‘½ä»¤å»ºè®®æ’ä»¶ 1git clone https://ghproxy.com/https://github.com/zsh-users/zsh-autosuggestions $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions zsh-syntax-highlightingè¯­æ³•é«˜äº®æ’ä»¶ 1git clone https://ghproxy.com/https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting é…ç½®~&#x2F;.zshrcå°†plugins=(git)ä¿®æ”¹ä¸ºï¼š 123456plugins=( git extract zsh-autosuggestions zsh-syntax-highlighting) å®Œæˆååˆ‡æ¢åˆ°zshï¼Œzshåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š image-20230214215532887 Dockerå®‰è£…Dockerä½¿ç”¨å®˜æ–¹ä¸€é”®è„šæœ¬ï¼š 1curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun é…ç½®Dockeråˆ‡æ¢åˆ°å›½å†…æºç¼–è¾‘/etc/docker/daemon.jsonï¼ˆè‹¥ä¸å­˜åœ¨è¯·æ–°å»ºï¼‰ï¼š 123&#123; &quot;registry-mirrors&quot;:[&quot;https://docker.mirrors.ustc.edu.cn/&quot;]&#125; ç„¶åï¼š 12systemctl daemon-reloadsystemctl restart docker ä¸ºdockerå®¹å™¨å¯ç”¨IPv6å› ä¸ªäººåŸå› ï¼Œéœ€è¦Dockerä¸­çš„BTè½¯ä»¶èƒ½è®¿é—®IPv6ï¼Œè€Œdockeré»˜è®¤æ˜¯ä¸å¯ç”¨IPv6çš„ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ ç¼–è¾‘/etc/docker/daemon.jsonï¼š 1234567&#123; &quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn/&quot;], &quot;experimental&quot;: true, &quot;ip6tables&quot;: true, &quot;ipv6&quot;: true, &quot;fixed-cidr-v6&quot;: &quot;fd00::/80&quot;&#125; é‡å¯Dockerï¼š 1systemctl restart docker æŸ¥çœ‹Dockerå®¹å™¨çš„IPv6çŠ¶æ€ï¼š 1docker network inspect bridge image-20230214221048210 å®‰è£…PortainerPortaineræ˜¯ä¸€ä¸ªä¼˜ç§€çš„å®¹å™¨ç®¡ç†å™¨ï¼Œç”¨å®ƒæˆ‘ä»¬å¯ä»¥è½»æ˜“çš„åˆ›å»º &#x2F; ç®¡ç†Dockerå®¹å™¨ 1234# åˆ›å»ºPortaineræ•°æ®å·docker volume create portainer_data# å®‰è£…Portainerdocker run -d -p 8000:8000 -p 9443:9443 -p 9000:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest å®‰è£…å®Œæˆåï¼Œé€šè¿‡http://[æœåŠ¡å™¨ip]:9000æˆ–https://[æœåŠ¡å™¨ip]:9443è®¿é—®Portainerç®¡ç†ç•Œé¢","tags":["nas","pve","docker"]},{"title":"Arma 3 è·å–ä¸åˆ†æå¯¼å¼¹æ•°æ®","path":"/2022/11/25/arma3-get-and-analyze-missile-data/","content":"å‰è¨€æœ€è¿‘åœ¨ç ”ç©¶Arma 3çš„SQFè„šæœ¬ï¼Œå¿ƒæƒ³è¦æ˜¯èƒ½æ”¶é›†ä¸€äº›æ¸¸æˆåŸºç¡€æ•°æ®å°±å¥½äº†ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªé¡¹ç›®ã€‚ æ‰€éœ€ModFileXT 3den Enhancedï¼ˆæ‰“å¼€ä»»åŠ¡åœºæ™¯æ—¶éœ€è¦ï¼‰ åˆ¶ä½œæµç¨‹1. åˆ›å»ºä»»åŠ¡æ–‡ä»¶æ‰“å¼€ä»»åŠ¡ç¼–è¾‘å™¨ï¼Œåˆ›å»ºä¸€ä¸ªç©ºåœºæ™¯ã€‚ åœ¨åœºæ™¯å†…æ”¾ç½®æ­¥æªå…µ (æœªæ­¦è£…) x 1ï¼Œç±»åä¸º B_Soldier_unarmed_F åœ¨åœºæ™¯å†…æ”¾ç½®é‡è¥æ¡Œè‹¥å¹² (è¦æµ‹è¯•å‡ ç§å¯¼å¼¹å°±æ”¾å‡ ä¸ª)ï¼Œç±»åä¸º Land_CampingTable_F image-20221125152852400 æ‰“å¼€ä»»åŠ¡æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œè·¯å¾„ä¸ºï¼šæ–‡æ¡£ -&gt; Arma 3 - Other Profiles -&gt; ä½ çš„ ID -&gt; missions -&gt; ä»»åŠ¡å åˆ›å»ºDescription.extæ–‡ä»¶ï¼Œè¾“å…¥ï¼š 12345678910class CfgFunctions&#123;\tclass rickg\t&#123; class Utilities &#123; class missileTrack &#123;&#125;; &#125;;\t&#125;;&#125;; åˆ›å»ºFunctionsæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºUtilitiesæ–‡ä»¶å¤¹ åœ¨Utilitiesæ–‡ä»¶å¤¹ä¸­åˆ›å»ºfn_missileTrack.sqfæ–‡ä»¶ 2. ç¼–å†™ç›¸å…³è„šæœ¬åœ¨ä»»åŠ¡ç¼–è¾‘å™¨ä¸­åŒå‡»é‡è¥æ¡Œï¼Œæ‰“å¼€å±æ€§ç¼–è¾‘é¡µé¢ã€‚ image-20221125153845020 åœ¨åˆå§‹åŒ–ä¸€æ ä¸­å¡«å…¥ä»¥ä¸‹è„šæœ¬ï¼š 1234567891011private _position = getPos this; // è·å–æ¡Œå­å½“å‰ä½ç½®_position set [2, (_position select 2) + 1.3]; // ä½¿å¯¼å¼¹æ‚¬æµ®åœ¨æ¡Œå­ä¸Šæ–¹private _missile; private _missileType = &quot;PylonMissile_1Rnd_Missile_AA_04_F&quot;; // è¿™é‡Œå’Œä¸‹é¢çš„_missileTypeä¸ºCfgMagazinesä¸­çš„å¯¼å¼¹ç±»å‹ï¼Œå¯åœ¨é…ç½®æŸ¥çœ‹å™¨ä¸­æŸ¥çœ‹_missile = createVehicle [getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _missileType &gt;&gt; &quot;ammo&quot;), _position, [], 0, &quot;CAN_COLLIDE&quot;]; [_missile, [225.103, 0, 0]] call BIS_fnc_setObjectRotation; // è¿™è¡Œçš„225.103æŒ‰ä½ æ‘†æ”¾æ¡Œå­çš„æ–¹å‘æ¥_missile enableSimulation false; // ç¦ç”¨æ¨¡æ‹Ÿï¼Œä½¿å¯¼å¼¹é™æ­¢this addAction [format [&quot;æµ‹è¯• %1&quot;, getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _missileType &gt;&gt; &quot;displayName&quot;)], &#123; private _missileType = &quot;PylonMissile_1Rnd_Missile_AA_04_F&quot;; [_missileType] call rickg_fnc_missileTrack; &#125;]; // æ·»åŠ æµ‹è¯•å¯¼å¼¹çš„é€‰é¡¹ï¼Œè¿™é‡Œä½¿ç”¨äº†è¯»å–CfgMagazinesåŠ¨æ€è·å–å¯¼å¼¹å æ‰“å¼€ä»»åŠ¡è·¯å¾„ä¸‹çš„Functions/Utilitiesæ–‡ä»¶å¤¹ ç¼–è¾‘fn_missileTrack.sqfï¼š 1234567891011121314151617181920212223242526272829303132333435363738params [&quot;_type&quot;];[_type] spawn &#123;\tparams [&quot;_type&quot;]; // è·å–å‚æ•°\t_typePlayer = player;\t_positionMissile = [0, 0, 1000]; // è®¾ç½®å¯¼å¼¹ï¼Œè·Ÿè¸ªæ— äººæœºåˆå§‹åæ ‡ä¸º[0, 0, 1000]\t_positionDrone = [0, 0, 1000];\t_missile = createVehicle [getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _type &gt;&gt; &quot;ammo&quot;), _positionMissile]; // åˆ›å»ºå¯¼å¼¹å®ä½“\t_launchTime = time;\t_UAV = createVehicle [&quot;B_UAV_01_F&quot;, _positionDrone, [], 0, &quot;CAN_COLLIDE&quot;]; // åˆ›å»ºæ— äººæœºå®ä½“\t_UAV attachTo [_missile, [0, 0, 0]]; // å°†æ— äººæœºé™„å±åœ¨å¯¼å¼¹ä¸Š\t_UAV engineOn false;\t_UAV setFuel 0;\t_UAV allowDamage false; // ç¦ç”¨æ— äººæœºæŸå®³\thideObject _UAV; // éšè—æ— äººæœºæ¨¡å‹\tcreateVehicleCrew _UAV;\tgunner _UAV allowDamage false; // ç¦ç”¨æ— äººæœºæŸå®³\tselectPlayer gunner _UAV; // å°†ç©å®¶è§†è§’ç§»åŠ¨åˆ°æ— äººæœºä¸Š\t// FileXT è·å–æ–‡ä»¶å\tprivate _fileName_Time = getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _type &gt;&gt; &quot;displayName&quot;) + &quot;_Time.txt&quot;;\t[_fileName_Time] call filext_fnc_deleteFile; // åˆ é™¤æ—§æ–‡ä»¶\t[_fileName_Time] call filext_fnc_open; // æ‰“å¼€æ–‡ä»¶\tprivate _fileName_Dist = getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _type &gt;&gt; &quot;displayName&quot;) + &quot;_Dist.txt&quot;;\t[_fileName_Dist] call filext_fnc_deleteFile;\t[_fileName_Dist] call filext_fnc_open;\twhile &#123;alive _missile&#125; do\t&#123; hintSilent format [&quot;å‹å·: %1 é€Ÿåº¦: %2 km/h é«˜åº¦å˜åŒ–: %3 m é£è¡Œè·ç¦»: %4 m é£è¡Œæ—¶é—´: %5 s&quot;, getText (configFile &gt;&gt; &quot;CfgMagazines&quot; &gt;&gt; _type &gt;&gt; &quot;displayName&quot;), speed _missile, (getPos _missile select 2) - 1000, _positionMissile distance getPos _missile, time - _launchTime]; // è¾“å‡ºé€Ÿåº¦ã€é«˜åº¦å˜åŒ–ã€é£è¡Œè·ç¦»ç­‰ç›¸å…³ä¿¡æ¯ [_fileName_Time, str(time - _launchTime), str(speed _missile)] call filext_fnc_set; // æ·»åŠ é”®å€¼åˆ°å¾…å†™å…¥é¡¹ [_fileName_Dist, str(_positionMissile distance getPos _missile), str((getPos _missile select 2) - 1000)] call filext_fnc_set;\t&#125;;\t[_fileName_Time] call filext_fnc_write; // å†™å…¥åˆ°æ–‡ä»¶\t[_fileName_Dist] call filext_fnc_write;\t[_fileName_Time] call filext_fnc_close; // å…³é—­æ–‡ä»¶æµ\t[_fileName_Dist] call filext_fnc_close;\tselectPlayer _typePlayer; // åˆ‡æ¢å›ç©å®¶\tdeleteVehicle _UAV;&#125;; 3. æµ‹è¯•æŒ‚è½½FileXT Modï¼Œè¿è¡Œä»»åŠ¡ï¼Œå¯¼å¼¹æµ‹è¯•ç»“æœåº”è¯¥å¦‚ä¸‹å›¾ image-20221125155345765 æµ‹è¯•å®Œæˆåï¼Œæ‰“å¼€Arma3å®‰è£…ç›®å½•/!Workshop/@FileXT/storageæ–‡ä»¶å¤¹ï¼Œå¯ä»¥å‘ç°ç”Ÿæˆäº†å¯¼å¼¹å_Time.txtå’Œå¯¼å¼¹å_Dist.txtä¸¤ä¸ªæ–‡ä»¶ image-20221125155841329 4. æ•´ç†æ•°æ®æ–‡ä»¶ç”¨Visual Studio Codeæ‰“å¼€æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å‘ç°æœ‰å¤§é‡ç‰¹æ®Šç¬¦å·ï¼Œè¿™æ˜¯FileXTæ¨¡ç»„çš„å­˜å‚¨æ¨¡å¼å¯¼è‡´çš„ï¼ˆè¯¦è§https://github.com/Vindicta-Team/FileXT/wikiï¼‰ image-20221125160355097 æ‰“å¼€ä¾§è¾¹æ çš„æœç´¢ä¸€é¡¹ï¼Œç‚¹å‡»æœç´¢æ¡†ä¸­çš„ç¬¬ä¸‰ä¸ªå›¾æ ‡å¯ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œåå°†f.*\\u0001\\u0000&#123;3&#125;æ›¿æ¢ä¸ºç©ºç™½ï¼Œå»æ‰æ–‡ä»¶å¼€å¤´çš„ç‰¹æ®Šç¬¦å· å†å°†(.)\\u0000(.)æ›¿æ¢ä¸º$1,$2ï¼Œæ›¿æ¢æ‰ä¸¤ä¸ªæ•°å­—ä¹‹é—´çš„NUL è€Œåå°†å‰©ä¸‹çš„\\u0000æ›¿æ¢ä¸ºç©ºç™½ï¼Œè¿™æ ·æ‰€æœ‰ç‰¹æ®Šç¬¦å·å°±è¢«æ¶ˆé™¤äº† image-20221125161100799 åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­æœç´¢&quot;1000&quot;,0çš„æ— æ•ˆæ•°æ®é¡¹ï¼Œå°†å…¶åˆ é™¤ åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­æœç´¢&quot;a&quot;,0çš„æ— æ•ˆæ•°æ®é¡¹ï¼Œå°†å…¶åˆ é™¤ï¼ˆaçš„å€¼ä¸å¯¼å¼¹é£è¡Œçš„æ—¶é—´ç›¸ä¼¼ï¼‰ 5. åˆ†ææ•°æ®æ–‡ä»¶å¹¶å¯¼å‡ºä¸ºå›¾ç‰‡æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸‹åˆ›å»ºprocessData.pyï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130import pandas as pdimport osimport matplotlib.pyplot as pltimport redef dirProcess(fileList: list, missileType: str): fileListTime = [] fileListDist = [] for i in fileList: if (re.search(&#x27;.*_Time.txt&#x27;, i) != None): fileListTime.append(re.search(&#x27;.*_Time.txt&#x27;, i).group()) if (re.search(&#x27;.*_Dist.txt&#x27;, i) != None): fileListDist.append(re.search(&#x27;.*_Dist.txt&#x27;, i).group()) for i in fileListTime: dataFrame = pd.read_table( &#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/&#x27; + missileType + &#x27;/&#x27; + i, sep=&#x27;,&#x27;, header=None) dataFrame = dataFrame.sort_values(by=0) x = [] y = [] for index, row in dataFrame.iterrows(): x.append(row[0]) y.append(row[1]) figTime = plt.figure() ax = figTime.add_axes([0.12, 0.12, 0.8, 0.8]) ax.grid(True) ax.plot(x, y) ax.set_xlabel(&quot;é£è¡Œæ—¶é—´ (s)&quot;) ax.set_ylabel(&quot;é€Ÿåº¦ (km/h)&quot;) ax.set_title(i.split(&#x27;_&#x27;)[0] + &quot;å¯¼å¼¹æ•°æ®&quot;) plt.savefig(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/å›¾ç‰‡/&#x27; + missileType + &#x27;/&#x27; + i.split(&#x27;_&#x27;) [0] + &quot;å¯¼å¼¹æ•°æ®_æ—¶é—´-é€Ÿåº¦.png&quot;, dpi=288) plt.close() for i in fileListDist: dataFrame = pd.read_table( &#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/&#x27; + missileType + &#x27;/&#x27; + i, sep=&#x27;,&#x27;, header=None) dataFrame = dataFrame.sort_values(by=0) x = [] y = [] for index, row in dataFrame.iterrows(): x.append(row[0]) y.append(row[1]) figDist = plt.figure() ax = figDist.add_axes([0.12, 0.12, 0.8, 0.8]) ax.grid(True) ax.plot(x, y) ax.set_xlabel(&quot;é£è¡Œè·ç¦» (m)&quot;) ax.set_ylabel(&quot;ç›¸å¯¹é«˜åº¦ (m)&quot;) ax.set_title(i.split(&#x27;_&#x27;)[0] + &quot;å¯¼å¼¹æ•°æ®&quot;) plt.savefig(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/å›¾ç‰‡/&#x27; + missileType + &#x27;/&#x27; + i.split(&#x27;_&#x27;) [0] + &quot;å¯¼å¼¹æ•°æ®_è·ç¦»-é«˜åº¦.png&quot;, dpi=288) plt.close()def dirProcessinAll(fileList: list, missileType: str): fileListTime = [] fileListDist = [] for i in fileList: if (re.search(&#x27;.*_Time.txt&#x27;, i) != None): fileListTime.append(re.search(&#x27;.*_Time.txt&#x27;, i).group()) if (re.search(&#x27;.*_Dist.txt&#x27;, i) != None): fileListDist.append(re.search(&#x27;.*_Dist.txt&#x27;, i).group()) figure, axes = plt.subplots(1, 2, figsize=(38.4, 10.8), dpi=200) labels_time = [] labels_dist = [] axes[0].set_xlabel(&quot;é£è¡Œæ—¶é—´ (s)&quot;) axes[0].set_ylabel(&quot;é€Ÿåº¦ (km/h)&quot;) axes[0].set_title(missileType + &quot; æ—¶é—´ - é€Ÿåº¦ è¡¨&quot;) axes[0].grid(True) axes[1].set_xlabel(&quot;é£è¡Œè·ç¦» (m)&quot;) axes[1].set_ylabel(&quot;ç›¸å¯¹é«˜åº¦ (m)&quot;) axes[1].set_title(missileType + &quot; è·ç¦» - é«˜åº¦ è¡¨&quot;) axes[1].grid(True) for i in fileListTime: dataFrame = pd.read_table( &#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/&#x27; + missileType + &#x27;/&#x27; + i, sep=&#x27;,&#x27;, header=None) dataFrame = dataFrame.sort_values(by=0) x = [] y = [] for index, row in dataFrame.iterrows(): x.append(row[0]) y.append(row[1]) axes[0].plot(x, y) labels_time.append(i.split(&#x27;_&#x27;)[0]) axes[0].legend(tuple(labels_time), loc=&#x27;best&#x27;) for i in fileListDist: dataFrame = pd.read_table( &#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/&#x27; + missileType + &#x27;/&#x27; + i, sep=&#x27;,&#x27;, header=None) dataFrame = dataFrame.sort_values(by=0) x = [] y = [] for index, row in dataFrame.iterrows(): x.append(row[0]) y.append(row[1]) axes[1].plot(x, y) labels_dist.append(i.split(&#x27;_&#x27;)[0]) axes[1].legend(tuple(labels_dist), loc=&#x27;best&#x27;) # plt.show() plt.savefig(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/å›¾ç‰‡/&#x27; + missileType + &#x27;/&#x27; + &quot;å„å¯¼å¼¹æ•°æ®å¯¹æ¯”.png&quot;) plt.close()print(&quot;Please enter what the version you want to process &quot;)print(&quot;1. Single&quot;)print(&quot;2. All in One&quot;)cin = input()if (cin == &#x27;1&#x27;): # Process Ground to Ground Missiles dirProcess(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/åœ°åœ°å¯¼å¼¹&#x27;), &#x27;åœ°åœ°å¯¼å¼¹&#x27;) # Process Air to Ground Missiles dirProcess(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/ç©ºåœ°å¯¼å¼¹&#x27;), &#x27;ç©ºåœ°å¯¼å¼¹&#x27;) # Process Surface to Air Missiles dirProcess(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/åœ°ç©ºå¯¼å¼¹&#x27;), &#x27;åœ°ç©ºå¯¼å¼¹&#x27;) # Process AA SR Missiles dirProcess(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/è¿‘è·å¼¹&#x27;), &#x27;è¿‘è·å¼¹&#x27;) # Process AA MR Missiles dirProcess(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/ä¸­è·å¼¹&#x27;), &#x27;ä¸­è·å¼¹&#x27;)elif (cin == &#x27;2&#x27;): # Process Ground to Ground Missiles dirProcessinAll(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/åœ°åœ°å¯¼å¼¹&#x27;), &#x27;åœ°åœ°å¯¼å¼¹&#x27;) # Process Air to Ground Missiles dirProcessinAll(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/ç©ºåœ°å¯¼å¼¹&#x27;), &#x27;ç©ºåœ°å¯¼å¼¹&#x27;) # Process Surface to Air Missiles dirProcessinAll(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/åœ°ç©ºå¯¼å¼¹&#x27;), &#x27;åœ°ç©ºå¯¼å¼¹&#x27;) # Process AA SR Missiles dirProcessinAll(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/è¿‘è·å¼¹&#x27;), &#x27;è¿‘è·å¼¹&#x27;) # Process AA MR Missiles dirProcessinAll(os.listdir(&#x27;./å¯¼å¼¹é£è¡Œæ•°æ®/ä¸­è·å¼¹&#x27;), &#x27;ä¸­è·å¼¹&#x27;) åœ¨å…¶ä¸‹åˆ›å»ºç›®å½•ï¼Œç›®å½•æ ‘å¦‚ä¸‹ï¼š 123456789101112â””â”€å¯¼å¼¹é£è¡Œæ•°æ® â”œâ”€ä¸­è·å¼¹ â”œâ”€å›¾ç‰‡ â”‚ â”œâ”€ä¸­è·å¼¹ â”‚ â”œâ”€åœ°åœ°å¯¼å¼¹ â”‚ â”œâ”€åœ°ç©ºå¯¼å¼¹ â”‚ â”œâ”€ç©ºåœ°å¯¼å¼¹ â”‚ â””â”€è¿‘è·å¼¹ â”œâ”€åœ°åœ°å¯¼å¼¹ â”œâ”€åœ°ç©ºå¯¼å¼¹ â”œâ”€ç©ºåœ°å¯¼å¼¹ â””â”€è¿‘è·å¼¹ å°†ä½ åˆ†æå¾—åˆ°çš„å¯¼å¼¹æ•°æ®æŒ‰åˆ†ç±»æ”¾å…¥å¯¼å¼¹é£è¡Œæ•°æ®æ–‡ä»¶å¤¹ä¸‹çš„åˆ†ç±»å³å¯ è¿è¡ŒPythonæ–‡ä»¶ï¼Œåœ¨å›¾ç‰‡ç›®å½•ä¸‹å³å¯æŸ¥çœ‹è¾“å‡ºçš„æ•°æ® 6. å…³äºæµ‹è¯•åœºæ™¯æµ‹è¯•åœºæ™¯ä¸Pythonä»£ç æˆ‘ä¼šä¸€åŒæ‰“åŒ…æ”¾åˆ°ç½‘ç›˜ ä¸‹è½½åœ°å€ï¼šhttps://wwb.lanzoue.com/iTmkn0gvll7c","tags":["arma3","sqf"]},{"title":"è®¾ç½®OpenWrtçš„é˜²ç«å¢™ï¼Œä»å¤–ç½‘è®¿é—®å†…ç½‘æœåŠ¡","path":"/2022/08/10/openwrt-config-ipv6-firewall/","content":"å‰è¨€åœ¨è¿è¥å•†æä¾›IPv6åï¼Œå®¶ä¸­æ¯ä¸€ä¸ªå†…ç½‘è®¾å¤‡éƒ½ä¼šæ‹¥æœ‰IPv6åœ°å€ã€‚ ä½†æ˜¯å‘ç°å†…ç½‘çš„è®¾å¤‡ï¼Œè™½ç„¶æœ‰å…¬ç½‘IPv6åœ°å€ï¼Œä½†æ˜¯ä»…ä»…èƒ½pingé€šï¼Œæ— æ³•ä»å¤–ç½‘è®¿é—®ã€‚ æœ€åå‘ç°æ˜¯OpenWrtçš„é˜²ç«å¢™é˜»æ–­äº†è¿æ¥ï¼Œäºæ˜¯å†³å®šé€šè¿‡è®¾ç½®OpenWrté˜²ç«å¢™æ¥å¼€æ”¾ç«¯å£ã€‚ è®¾ç½®æ‰“å¼€OpenWrtç®¡ç†ç•Œé¢ï¼Œç‚¹å‡»ç½‘ç»œ â†’ é˜²ç«å¢™ â†’ é€šä¿¡è§„åˆ™ ç‚¹å‡»æ·»åŠ ä¸ç¼–è¾‘ï¼š image-20220810174525648 æŒ‰å›¾ç¼–è¾‘ï¼š image-20220810174827165 ä¿å­˜åï¼Œå¤–ç½‘è®¾å¤‡å¯ä»¥æ­£å¸¸è®¿é—®äº†","tags":["openwrt"]},{"title":"ä¸ºæ¯”ç‰¹å½—æ˜Ÿå¼€æ”¾IPv6ç«¯å£","path":"/2022/08/07/bitcomet-ipv6-green-light/","content":"12ip6tables -A FORWARD -p tcp --dport [BitCometç«¯å£] -j ACCEPTip6tables -A FORWARD -p udp --dport [BitCometç«¯å£] -j ACCEPT","tags":["bitcomet"]},{"title":"E5SubBotçš„é…ç½®ä½¿ç”¨","path":"/2022/07/10/configure-e5sub-bot/","content":"å‰è¨€åœ¨æ‹¥æœ‰Office E5è®¢é˜…åï¼Œå¦‚ä½•ç»­æœŸæˆäº†ä¸€ä¸ªå¤§é—®é¢˜ã€‚æœ€è¿‘æ‰¾åˆ°äº†ä¸€ä¸ªGitHubé¡¹ç›®ï¼šiyear&#x2F;E5SubBotï¼Œå†³å®šç”¨å®ƒæ¥ç»­æœŸE5ã€‚ Requirements 1 * VPSï¼ˆè¦èƒ½è®¿é—®Telegramï¼‰ 1 * Office E5è´¦å· 1 * Telegramè´¦å· ç”³è¯·Telegramæœºå™¨äººæ·»åŠ @BotFatheræœºå™¨äººï¼Œè¾“å…¥/start å¼€å§‹ image-20220710162212450 è¾“å…¥/newbotåˆ›å»ºæ–°æœºå™¨äºº image-20220710162320105 è¾“å…¥botåå­— image-20220710162345391 è¾“å…¥botç”¨æˆ·åï¼Œå¾—åˆ°botçš„Token image-20220710162516659 é…ç½®E5SubBotåœ¨ Releases é¡µé¢ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸Šä¼ è‡³æœåŠ¡å™¨ é‡å‘½åconfig.yml.exampleä¸ºconfig.yml ç¼–è¾‘config.ymlï¼Œå°†bot_tokenä¸€é¡¹çš„å€¼ä¿®æ”¹ä¸ºåˆšåˆšè·å–çš„Token å‰å¾€ https://t.me/userinfobot è·å–è‡ªå·±çš„tgidï¼Œå¹¶å¡«å…¥adminé¡¹ä¸­ å¯åŠ¨E5SubBot1234screen -S e5subchmod +x E5SubBot./E5SubBot(Ctrl A+D) ç»‘å®šè´¦å·å‚ç…§ä»¥ä¸‹æ•™ç¨‹ï¼ˆå›¾ç‰‡æ¥è‡ªç½‘ç»œï¼‰ E5Sub_1 E5Sub_2 E5Sub_3 E5Sub_4 E5Sub_5 E5Sub_6","tags":["Office E5"]},{"title":"è®°ä¸€æ¬¡ç»™PVEé…ç½®ddns","path":"/2022/06/01/pve-configure-ddns/","content":"å‰è¨€éšç€ipv6çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„ç»ˆç«¯æ”¯æŒipv6ã€‚å› æ­¤æˆ‘å†³å®šç»™å®¶ä¸­çš„Proxmox VEé…ç½®ipv6å¹¶é…ç½®ddnsä»¥é€šè¿‡å¤–ç½‘è®¿é—®ã€‚ Requirements ä¸€å°æ”¯æŒipv6çš„è·¯ç”±å™¨ Proxmox VEä¸»æœº ä¸€ä¸ªåŸŸå ddns-go ä¸ºProxmox VEå¯ç”¨ipv6Proxmoxå®‰è£…åé»˜è®¤æ²¡æœ‰é€šè¿‡SLAACé…ç½®å…¬ç½‘ipv6åœ°å€ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½® åœ¨/etc/sysctl.confä¸­æ·»åŠ ï¼š 123456net.ipv6.conf.all.accept_ra=2net.ipv6.conf.default.accept_ra=2net.ipv6.conf.vmbr0.accept_ra=2net.ipv6.conf.all.autoconf=1net.ipv6.conf.default.autoconf=1net.ipv6.conf.vmbr0.autoconf=1 æ¥ä¸ºvmbr0ç½‘æ¡¥å¯ç”¨è‡ªåŠ¨è·å–å…¬ç½‘ipv6åœ°å€ é‡å¯åè¾“å…¥ifconfigï¼š image-20220601090839399 pingå¤–ç½‘ä¹Ÿæ˜¯æ­£å¸¸çš„ image-20220601090957203 å®‰è£…ddns-goå‰å¾€é¡¹ç›®çš„GitHub Releaseé¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œä»¥3.7.1ç‰ˆä¸ºä¾‹ è§£å‹åˆ°&#x2F;opt12mkdir -p /opt/ddns-gotar -zxvf ddns-go_3.7.1_Linux_x86_64.tar.gz -C /opt/ddns-go è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡123cd /opt/ddns-go./ddns-go -s install# å¸è½½æœåŠ¡è¯·æ‰§è¡Œ ./ddns-go -s uninstall é…ç½®ddns-goè®¿é—®http://[æœåŠ¡å™¨ip]:9876 è®¾ç½®dnsæœåŠ¡å•† å‹¾é€‰IPv6é¡¹ä¸‹çš„æ˜¯å¦å¯ç”¨ï¼Œå¹¶æ·»åŠ è§£æåŸŸå ç°åœ¨å¯ä»¥é€šè¿‡æŒ‡å®šçš„åŸŸåæ¥è®¿é—®pveæœåŠ¡äº†","tags":["pve","ddns"]},{"title":"ä¸ºCloudreveæ·»åŠ ç¦»çº¿ä¸‹è½½èŠ‚ç‚¹","path":"/2022/05/29/cloudreve-child-node/","content":"å‰è¨€åœ¨é…ç½®CloudreveæœŸé—´ï¼Œå‘ç°VPSä»…æœ‰çš„60Gç©ºé—´å¯¹äºç¦»çº¿ä¸‹è½½è¿œè¿œä¸å¤Ÿï¼Œå› æ­¤å†³å®šå°†å†…ç½‘çš„ä¸€å°æœºå™¨ä½œä¸ºCloudreveçš„ç¦»çº¿ä¸‹è½½èŠ‚ç‚¹ã€‚ æ€è·¯åœ¨å­èŠ‚ç‚¹ä¸Šè¿è¡ŒCloudreveå’ŒAria2ï¼Œå¹¶é€šè¿‡frpå°†å­èŠ‚ç‚¹æœåŠ¡æš´éœ²ç»™å…¬ç½‘ï¼Œæœ€åé€šè¿‡Cloudreveè‡ªå¸¦çš„åŠŸèƒ½è¿›è¡Œå­èŠ‚ç‚¹ç¦»çº¿ä¸‹è½½ Cloudreve æ”¯æŒâ€œä»æœºç¦»çº¿ä¸‹è½½â€ï¼Œæ‚¨å¯ä»¥å°†ç¦»çº¿ä¸‹è½½ä»»åŠ¡åˆ†æµè‡³å¤šå°æœåŠ¡å™¨å¤„ç†ï¼Œé¿å…è¿™äº›ä»»åŠ¡è¿‡å¤šå ç”¨ä¸»æœºçš„èµ„æºã€‚æ¯ä¸ªè´Ÿè´£å¤„ç†ç¦»çº¿ä¸‹è½½ä»»åŠ¡çš„èŠ‚ç‚¹éœ€è¦è¿è¡Œä¸€ç»„ Cloudreve å’Œ Aria2 å®ä¾‹ã€‚æ‚¨å¯ä»¥æŒ‰ç…§ç®¡ç†é¢æ¿ä¸­çš„èŠ‚ç‚¹æ·»åŠ å‘å¯¼æŒ‡å¼•é…ç½®å¹¶æ·»åŠ æ–°èŠ‚ç‚¹ã€‚ Requirements 1 * æ‹¥æœ‰å…¬ç½‘ipçš„æœºå™¨ 1 * æ— å…¬ç½‘ipçš„æœºå™¨ frpè½¯ä»¶ Cloudreve å‡†å¤‡æ­¥éª¤å†…ç½‘æœºå®‰è£…Cloudreveå‚è§å®‰è£…é…ç½®Cloudreve å®‰è£…frpå‚è§frpå†…ç½‘ç©¿é€æ•™ç¨‹ å®‰è£…aria21234apt install aria2# åˆ›å»ºaria2é…ç½®æ–‡ä»¶mkdir -p /etc/aria2nano /etc/aria2/aria2.conf åœ¨/etc/aria2/aria2.confä¸­æ·»åŠ  123456# å¯ç”¨ RPC æœåŠ¡enable-rpc=true# RPC ç›‘å¬ç«¯å£rpc-listen-port=6800# RPC æˆæƒä»¤ç‰Œï¼Œå¯è‡ªè¡Œè®¾å®šrpc-secret=&lt;your token&gt; åˆ›å»ºaria2ç”¨æˆ· 1useradd aria2 ç¼–è¾‘/etc/systemd/system/aria2c.serviceï¼š 1234567891011[Unit]Description= Aria2c ServiceAfter=network.target[Service]Type=simpleUser=aria2ExecStart=/usr/bin/aria2c --conf-path=/etc/aria2/aria2.conf[Install]WantedBy=multi-user.target åˆ›å»ºç¦»çº¿ä¸‹è½½ä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œå¹¶è®¾ç½®æƒé™é˜²æ­¢æŠ¥é”™ 1234mkdir /offline_download# å°†æ‰€æœ‰è€…æ”¹ä¸ºaria2ç”¨æˆ·å¹¶è®¾ç½®æƒé™chown -R aria2 /offline_downloadchmod -R 777 /offline_download é…ç½®frp/etc/frp/frpc.ini 12345678910111213141516[common]server_addr = å…¬ç½‘æœºipserver_port = 7000[https2http]type = httpscustom_domains = è®¿é—®å†…ç½‘æœåŠ¡ç”¨çš„åŸŸåplugin = https2httpplugin_local_addr = 127.0.0.1:5212# HTTPS è¯ä¹¦ç›¸å…³çš„é…ç½®plugin_crt_path = åŸŸåè¯ä¹¦crtæ–‡ä»¶è·¯å¾„plugin_key_path = åŸŸåè¯ä¹¦keyæ–‡ä»¶è·¯å¾„plugin_host_header_rewrite = 127.0.0.1plugin_header_X-From-Where = frp æ³¨ï¼šè¿™é‡Œæˆ‘å…¬ç½‘æœºCloudreveä½¿ç”¨äº†httpsï¼Œåˆ™æš´éœ²å†…ç½‘æœºæœåŠ¡æ—¶å¿…é¡»ä¹Ÿä½¿ç”¨https å…¬ç½‘æœºå®‰è£…frpã€Cloudreveç•¥é…ç½®frpåœ¨æœåŠ¡ç«¯frpé…ç½®ä¸­æ·»åŠ ç”¨äºè®¿é—®å†…ç½‘Cloudreveçš„HTTPSç«¯å£ /etc/frp/frps.iniï¼š 123[common]bind_port = 7000vhost_https_port = è®¿é—®ç”¨ç«¯å£ é…ç½®Cloudreveç°åœ¨å¯ä»¥é€šè¿‡https://[å…¬ç½‘æœºip]:ç«¯å£è®¿é—®å†…ç½‘çš„Cloudreveäº† æ‰“å¼€å…¬ç½‘æœºä¸Šçš„Cloudreveï¼Œç‚¹å‡»ç®¡ç†é¢æ¿â†’ç¦»çº¿ä¸‹è½½èŠ‚ç‚¹â†’æ¥å…¥æ–°èŠ‚ç‚¹ï¼Œæ‰“å¼€æ·»åŠ æ–°èŠ‚ç‚¹ç•Œé¢ï¼Œå¤åˆ¶ç”Ÿæˆçš„ä»æœºå¯†é’¥ åœ¨å†…ç½‘æœºä¸ŠCloudreveé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š 12[Slave]Secret = ä»æœºå¯†é’¥ å¹¶ä¿®æ”¹Modeå­—æ®µçš„å€¼ä¸ºslaveï¼Œé‡å¯Cloudreve åœ¨ç®¡ç†é¢æ¿ä»æœºåœ°å€ä¸­å¡«å…¥https://[å…¬ç½‘æœºip]:ç«¯å£ï¼Œå¹¶æµ‹è¯•æ˜¯å¦æ­£å¸¸ ç‚¹ä¸‹ä¸€æ­¥â†’å¯ç”¨ï¼Œåœ¨RPCæˆæƒä»¤ç‰Œä¸­å¡«å…¥aria2c.confä¸­çš„rpc-secret RPCæœåŠ¡åœ°å€å¡«http://127.0.0.1:6800/ ç»å¯¹è·¯å¾„å¡«ç¦»çº¿ä¸‹è½½æ–‡ä»¶å¤¹åœ¨å†…ç½‘æœºä¸Šçš„ä½ç½®ï¼Œå¦‚/offline_download å®Œæˆåæµ‹è¯•aria2é€šä¿¡ï¼Œæ£€æŸ¥æ˜¯å¦æ­£å¸¸ ç‚¹å‡»ä¸‹ä¸€æ­¥è®¾ç½®èŠ‚ç‚¹åå­—ï¼Œè‡ªæ­¤ï¼Œç¦»çº¿ä¸‹è½½èŠ‚ç‚¹æ·»åŠ å®Œæˆ","tags":["cloudreve"]},{"title":"å®‰è£…é…ç½®Cloudreve","path":"/2022/05/29/cloudreve/","content":"å‰è¨€è‡ªä»ç”³è¯·åˆ°Office E5ä¹‹åä¾¿æœ‰äº†å®¹é‡é«˜è¾¾5TBçš„OneDriveã€‚å¿ƒæƒ³æ€èƒ½æ²¡æœ‰ä¸€ä¸ªé…å¥—çš„ç½‘ç›˜ç¨‹åºå‘¢ï¼Œäºæ˜¯ä¾¿æœ‰äº†æ­¤æ–‡ã€‚ ä½•ä¸ºCloudreveï¼Ÿä»¥ä¸‹å†…å®¹æ¥è‡ªå®˜æ–¹æ–‡æ¡£ Cloudreve å¯ä»¥è®©æ‚¨å¿«é€Ÿæ­å»ºèµ·å…¬ç§å…¼å¤‡çš„ç½‘ç›˜ç³»ç»Ÿã€‚Cloudreve åœ¨åº•å±‚æ”¯æŒä¸åŒçš„äº‘å­˜å‚¨å¹³å°ï¼Œç”¨æˆ·åœ¨å®é™…ä½¿ç”¨æ—¶æ— é¡»å…³å¿ƒç‰©ç†å­˜å‚¨æ–¹å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ Cloudreve æ­å»ºä¸ªäººç”¨ç½‘ç›˜ã€æ–‡ä»¶åˆ†äº«ç³»ç»Ÿï¼Œäº¦æˆ–æ˜¯é’ˆå¯¹å¤§å°å›¢ä½“çš„å…¬æœ‰äº‘ç³»ç»Ÿã€‚ å®‰è£…Cloudreve æœ¬æ–‡ä»¥Debian 10 (buster)ï¼Œamd64æ¶æ„ï¼ŒCloudreve 3.5.3ä¸ºå‡†ï¼ŒCloudreveå®‰è£…åœ¨&#x2F;opt&#x2F;cloudreve ä¸‹è½½å‰å¾€Github Releaseé¡µé¢æ ¹æ®ç³»ç»Ÿæ¶æ„ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ è§£å‹åˆ°&#x2F;opt1234mkdir -p /opt/cloudrevetar -zxvf cloudreve_3.5.3_linux_amd64.tar.gz -C /opt/cloudreve# æ·»åŠ å¯æ‰§è¡Œæƒé™chmod +x /opt/cloudreve/cloudreve è·å–åˆå§‹ç®¡ç†å‘˜å¯†ç 12cd /opt/cloudreve./cloudreve ä½ åº”è¯¥çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢ image-20220529184316860 é…ç½®systemdæ–°å»º/usr/lib/systemd/system/cloudreve.serviceï¼š 12345678910111213141516171819[Unit]Description=CloudreveDocumentation=https://docs.cloudreve.orgAfter=network.targetAfter=mysqld.serviceWants=network.target[Service]WorkingDirectory=/opt/cloudreveExecStart=/opt/cloudreve/cloudreveRestart=on-abnormalRestartSec=5sKillMode=mixedStandardOutput=nullStandardError=syslog[Install]WantedBy=multi-user.target è€Œå 12345678# æ›´æ–°é…ç½®systemctl daemon-reload# å¯åŠ¨æœåŠ¡systemctl start cloudreve# è®¾ç½®å¼€æœºå¯åŠ¨systemctl enable cloudreve ç®¡ç†å‘½ä»¤ï¼š 1234567891011# å¯åŠ¨æœåŠ¡systemctl start cloudreve# åœæ­¢æœåŠ¡systemctl stop cloudreve# é‡å¯æœåŠ¡systemctl restart cloudreve# æŸ¥çœ‹çŠ¶æ€systemctl status cloudreve é…ç½®åä»£ç°åœ¨å¯ä»¥é€šè¿‡http://[server_ip]:5212æ¥è®¿é—®Cloudreveäº†ï¼Œè‹¥æœ‰é€šè¿‡HTTPSè®¿é—®çš„éœ€æ±‚ï¼Œåˆ™éœ€é…ç½®åä»£ï¼ˆä»¥nginxä¸ºä¾‹ï¼‰ åœ¨ç½‘ç«™çš„serverå­—æ®µä¸­åŠ å…¥ï¼š 123456789location / &#123; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_redirect off; proxy_pass http://127.0.0.1:5212; # å¦‚æœæ‚¨è¦ä½¿ç”¨æœ¬åœ°å­˜å‚¨ç­–ç•¥ï¼Œè¯·å°†ä¸‹ä¸€è¡Œæ³¨é‡Šç¬¦åˆ é™¤ï¼Œå¹¶æ›´æ”¹å¤§å°ä¸ºç†è®ºæœ€å¤§æ–‡ä»¶å°ºå¯¸ # client_max_body_size 20000m;&#125; é…ç½®Cloudreveè®¿é—®Cloudreveåå°ï¼Œä½¿ç”¨åˆå§‹ç”¨æˆ·å¯†ç ç™»å½• ç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒâ†’ç®¡ç†é¢æ¿ï¼Œä¼šè¯¢é—®æ˜¯å¦ä¿®æ­£ç«™ç‚¹URLï¼Œç¡®è®¤å³å¯ image-20220529184746382 ä¿®æ”¹é»˜è®¤ç”¨æˆ·å¯†ç åœ¨ç®¡ç†é¢æ¿ä¸­ç‚¹å‡»ç”¨æˆ·ï¼Œåœ¨å³è¾¹çš„ç”¨æˆ·åˆ—è¡¨ä¸­ä¿®æ”¹å³å¯ æ·»åŠ å­˜å‚¨ç­–ç•¥ç®¡ç†é¢æ¿â†’å­˜å‚¨ç­–ç•¥â†’æ·»åŠ å­˜å‚¨ç­–ç•¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º image-20220529185722835 å„å­˜å‚¨ç­–ç•¥å¯¹æ¯”&nbsp;â€“&nbsp;Cloudrevehttps://docs.cloudreve.org/use/policy/compare å„å­˜å‚¨ç­–ç•¥çš„å®˜æ–¹å¼•å¯¼å¼é…ç½®å·²ååˆ†è¯¦ç»†ï¼Œè¿™é‡Œä¸å†èµ˜è¿° æ‚é¡¹å¿˜è®°äº†å¯†ç ï¼Ÿ1/opt/cloudreve/cloudreve --database-script ResetAdminPassword æ ¡å‡†ç”¨æˆ·å®¹é‡1/opt/cloudreve/cloudreve --database-script CalibrateUserStorage","tags":["cloudreve"]},{"title":"frpå†…ç½‘ç©¿é€æ•™ç¨‹","path":"/2022/05/28/how-to-configure-frp/","content":"å‰è¨€frpæ˜¯ä»€ä¹ˆfrp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/fatedier/frp/ ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« æœ€è¿‘åœ¨æŠ˜è…¾arma3çš„æœåŠ¡å™¨ï¼Œé¥±å—æ²¡æœ‰å…¬ç½‘ipä¹‹å›°æ‰°ã€‚ä¸ºæ­¤å†™ä¸‹è¿™ç¯‡æ•™ç¨‹è®°å½•æˆ‘æŠ˜è…¾å†…ç½‘ç©¿é€çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ æœ¬æ–‡éƒ¨åˆ†å‚è€ƒäº†å®˜æ–¹æ–‡æ¡£çš„å†…å®¹ å…¨æ–‡ä»¥å†™ä½œè¿™ç¯‡æ–‡ç« çš„æœ€æ–°ç‰ˆï¼ˆv0.43.0ï¼‰ä¸ºå‡† é…ç½®ç¯å¢ƒï¼šDebian 10 64-bit ä¸‹è½½frp1wget https://github.com/fatedier/frp/releases/download/v0.43.0/frp_0.43.0_linux_amd64.tar.gz å®‰è£…frpè§£å‹1tar -zxvf frp_0.43.0_linux_amd64.tar.gz å¤åˆ¶åˆ°ç³»ç»Ÿç›®å½•1234cd frp_0.43.0_linux_amd64/mkdir -p /etc/frpmv *.ini /etc/frpmv frpc frps /usr/bin é…ç½®systemdå…¬ç½‘æœºæ–°å»º/usr/lib/systemd/system/frps.service: 1234567891011121314[Unit]Description=Frp Server ServiceAfter=network.target[Service]Type=simpleUser=nobodyRestart=on-failureRestartSec=5sExecStart=/usr/bin/frps -c /etc/frp/frps.iniLimitNOFILE=1048576[Install]WantedBy=multi-user.target éšåæ‰§è¡Œ 1systemctl enable frps å†…ç½‘æœºæ–°å»º/usr/lib/systemd/system/frpc.service: 123456789101112131415[Unit]Description=Frp Client ServiceAfter=network.target[Service]Type=simpleUser=nobodyRestart=on-failureRestartSec=5sExecStart=/usr/bin/frpc -c /etc/frp/frpc.iniExecReload=/usr/bin/frpc reload -c /etc/frp/frpc.iniLimitNOFILE=1048576[Install]WantedBy=multi-user.target éšåæ‰§è¡Œ 1systemctl enable frpc å¯åŠ¨frpå…¬ç½‘æœº1systemctl start frps å†…ç½‘æœº1systemctl start frpc æ³¨ï¼šæ¯æ¬¡ä¿®æ”¹å®Œé…ç½®åº”é€šè¿‡systemctl restarté‡å¯æœåŠ¡ é…ç½®frpæ™®é€šæœåŠ¡ï¼ˆä»¥SSHä¸ºä¾‹ï¼‰å…¬ç½‘æœºä¿®æ”¹/etc/frp/frps.ini 12[common]bind_port = 7000 å†…ç½‘æœºä¿®æ”¹/etc/frp/frpc.ini 123456789[common]server_addr = å…¬ç½‘æœºipserver_port = 7000[ssh]type = tcplocal_ip = 127.0.0.1local_port = æœ¬åœ°SSHç«¯å£remote_port = å…¬ç½‘è®¿é—®æœåŠ¡ç”¨çš„ç«¯å£ å…¶ä»–æœåŠ¡ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æˆ‘çš„Arma 3æœåŠ¡å™¨é…ç½®ä¸ºï¼š 123456789101112131415[common]server_addr = xxx.xxx.xxx.xxxserver_port = 7000[arma3-1]type = udplocal_ip = 127.0.0.1local_port = 2302remote_port = 2302[arma3-2]type = udplocal_ip = 127.0.0.1local_port = 2303remote_port = 2303 WebæœåŠ¡ï¼ˆHTTPï¼‰åœ¨å…¬ç½‘æœºfrps.iniä¸­æ·»åŠ ä¸€è¡Œ 1vhost_http_port = 8080 å³è®¾ç½®httpè¯·æ±‚ç«¯å£ä¸º8080 åœ¨å†…ç½‘æœºfrpc.iniä¸­æ·»åŠ  1234[web]type = httplocal_port = 80custom_domains = your.domain åˆ†åˆ«å¯åŠ¨frpsï¼Œfrpcã€‚å¹¶å°†your.domainçš„Aè®°å½•è§£æè‡³å…¬ç½‘æœº è®¿é—®http://your.domain:8080æ¥è®¿é—®å†…ç½‘æœåŠ¡ WebæœåŠ¡ï¼ˆHTTPSï¼‰åœ¨å…¬ç½‘æœº/etc/frp/frps.iniä¸­æ·»åŠ  1vhost_https_port = 443 å³è®¾ç½®httpsè¯·æ±‚ç«¯å£ä¸º443 æš´éœ²æœ¬åœ°HTTPæœåŠ¡åœ¨å†…ç½‘æœº/etc/frp/frpc.iniä¸­æ·»åŠ  123456789101112[test_htts2http]type = httpscustom_domains = your.domainplugin = https2httpplugin_local_addr = 127.0.0.1:80# HTTPS è¯ä¹¦ç›¸å…³çš„é…ç½®plugin_crt_path = ./server.crtplugin_key_path = ./server.keyplugin_host_header_rewrite = 127.0.0.1plugin_header_X-From-Where = frp åˆ†åˆ«å¯åŠ¨frpcï¼Œfrps è®¿é—®https://your.domainæ¥è®¿é—®å†…ç½‘æœåŠ¡ æš´éœ²æœ¬åœ°HTTPSæœåŠ¡åœ¨å†…ç½‘æœº/etc/frp/frpc.iniä¸­æ·»åŠ  123456789[https2https]type = httpscustom_domains = your.domainplugin = https2httpsplugin_local_addr = 127.0.0.1:443# è¯ä¹¦å’Œå¯†é’¥ä½ç½®plugin_crt_path = /etc/frp/server.crtplugin_key_path = /etc/frp/server.key æ‚é¡¹æœåŠ¡ç«¯Webç•Œé¢åœ¨å…¬ç½‘æœºçš„/etc/frp/frps.iniçš„commonä¸­æ·»åŠ  1234dashboard_port = 7500# ç”¨æˆ·åå’Œå¯†ç dashboard_user = admindashboard_pwd = admin é€šè¿‡http://[å…¬ç½‘æœºip]:7500æ¥è®¿é—®æœåŠ¡ç«¯Webç•Œé¢ å®¢æˆ·ç«¯Webç•Œé¢åœ¨å†…ç½‘æœºçš„/etc/frp/frpc.iniçš„commonä¸­æ·»åŠ  1234admin_addr = 127.0.0.1admin_port = 7400admin_user = adminadmin_pwd = admin é€šè¿‡http://127.0.0.1:7400æ¥è®¿é—®å®¢æˆ·ç«¯Webç•Œé¢","tags":["frp","æ•™ç¨‹"]},{"title":"åœ¨è‡ªæœ‰æœåŠ¡å™¨ä¸Šéƒ¨ç½²Snapdrop","path":"/2022/05/28/deploy-snapdrop/","content":"å‰è¨€è´­å…¥ç¬”è®°æœ¬å’Œå¤‡ç”¨æœºåï¼Œå¯¹äºå®¶é‡Œå¤šè®¾å¤‡äº’ä¼ æ–‡ä»¶éœ€æ±‚å¢åŠ äº†ï¼Œæ°å¥½è¢«@Copurå®‰åˆ©è¿™æ ·ä¸€ä¸ªé¡¹ç›®ï¼Œäºæ˜¯ä¾¿æ‰“ç®—åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½² Bellisario/node-snapdrop:&nbsp;Node&nbsp;version&nbsp;of&nbsp;the&nbsp;original&nbsp;Snapdrophttps://github.com/Bellisario/node-snapdrop æœåŠ¡å™¨ç«¯é…ç½®cloneé¡¹ç›® 123git clone https://github.com/Bellisario/node-snapdrop.git# é€Ÿåº¦æ…¢å¯è€ƒè™‘fastgitgit clone https://hub.fastgit.xyz/Bellisario/node-snapdrop.git å®‰è£…ä¾èµ– 12cd node-snapdropnpm install å®‰è£…pm2 1npm install -g pm2 å¯åŠ¨Snapdrop 1pm2 start index.js ç°åœ¨å¯ä»¥é€šè¿‡localhost:3000æ¥è®¿é—®Snapdropäº† åä»£é…ç½®åœ¨ç½‘ç«™nginxé…ç½®æ–‡ä»¶å¤´éƒ¨åŠ å…¥ 1234567map $http_upgrade $connection_upgrade &#123;default upgrade;&#x27;&#x27; close;&#125;upstream websocket &#123; server 127.0.0.1:3000;&#125; åœ¨åä»£é…ç½®æ–‡ä»¶çš„location ^~ / ä¸‹åŠ å…¥ 12proxy_set_header Upgrade $http_upgrade;proxy_set_header Connection $connection_upgrade; CDNé…ç½® ï¼ˆä»¥åˆæ‹äº‘ä¸ºä¾‹ï¼‰åˆæ‹äº‘æ§åˆ¶å°åˆ›å»ºWebSocketæœåŠ¡ï¼ŒåŸŸåå¡«éœ€è¦ç»‘å®šçš„åŸŸåï¼Œåè®®httpï¼Œç«¯å£80ï¼Œå¦‚å›¾æ‰€ç¤º image-20220528152422766 éšååœ¨æœåŠ¡çš„httpsé…ç½®ä¸­æ·»åŠ è¯ä¹¦ï¼Œé…ç½®å®Œæˆ","tags":["Snapdrop"]},{"title":"powershellç¾åŒ–","path":"/2022/05/28/powershell-polish/","content":"æ•ˆæœå›¾image-20220528135813783 å®‰è£…oh-my-poshåœ¨Microsoft Storeå®‰è£…Windows Terminal æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 123Set-ExecutionPolicy BypassInstall-Module oh-my-posh -Scope CurrentUserInstall-Module posh-git -Scope CurrentUser å¦‚æœ‰æç¤ºæŒ‰yå³å¯ å¯ç”¨oh-my-poshé…ç½®PowerShellå¯åŠ¨è„šæœ¬ 1notepad $PROFILE å¯¼å…¥ç›¸åº”æ¨¡å— 12Import-Module oh-my-poshImport-Module posh-git è®¾ç½®ä¸»é¢˜ä¸ºagnosterplus 1Set-PoshPrompt -Theme agnosterplus è§£å†³å­—ä½“ä¹±ç  å‚è§ Oh My Posh Docs ä¸‹è½½Nerd Fontsï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯Meslo Fonts ä¸‹è½½åœ°å€https://www.nerdfonts.com/font-downloads è§£å‹ï¼Œé€‰æ‹©Meslo LG S Regular Nerd Font Complete Windows Compatible.ttfå¹¶å®‰è£… æ‰“å¼€Windows Terminalï¼ŒæŒ‰Ctrl + , æ‰“å¼€è®¾ç½®ï¼Œç‚¹å‡»Windows Powershell â€“&gt; å¤–è§‚ï¼Œå°†å­—ä½“æ”¹ä¸ºåˆšæ‰å®‰è£…çš„MesloLGS NFï¼Œå¦‚å›¾æ‰€ç¤º image-20220528135059127 å¯ç”¨æ¨¡ç³ŠèƒŒæ™¯è®¾ç½® â€“&gt; Windows Powershell â€“&gt; å¤–è§‚ â€“&gt; é€æ˜åº¦ å¯ç”¨ Enable acrylic é¡¹ image-20220528135302118 å…è®¸PowerShellæ‰§è¡Œä»»æ„è„šæœ¬1Set-ExecutionPolicy Unrestricted","tags":["powershell","ç¾åŒ–"]},{"title":"åŸºäºpveçš„Openwrtå®‰è£…åŠé…ç½®","path":"/2022/05/25/pve-openwrt/","content":"æœºå™¨ä»‹ç» ç±»åˆ« å‹å· CPU Xeon X3440 @ 2.53GHz ä¸»æ¿ Supermicro X8SIL å†…å­˜ Kingston ECC 8GB DDR3-1600 ç¡¬ç›˜ Kingston UV400 ç³»ç»Ÿ Proxmox VE 7.2 Proxmox VEçš„å®‰è£…ä¸é…ç½®Step.1 åˆ¶ä½œå¯åŠ¨ç›˜åœ¨pveå®˜ç½‘ä¸‹è½½pveçš„é•œåƒï¼ˆæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯7.2ç‰ˆï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½å¾ˆæ…¢ï¼Œæ–¹æ³•â€¦ä½ ä»¬æ‡‚å¾—ï¼‰ç„¶åä½¿ç”¨ç›¸å…³å·¥å…·å†™å…¥å³å¯ï¼Œæ¨èä½¿ç”¨balenaEtcherã€‚ å†™å…¥å¯åŠ¨ç›˜ Step.2 å®‰è£…pveå°†Uç›˜æ’å…¥ç”µè„‘ï¼Œå¼€æœºé€‰æ‹©Uç›˜å¯åŠ¨ï¼Œè¿›å…¥å¼•å¯¼ç•Œé¢ï¼Œé€‰æ‹©Install Proxmox VEè¿›å…¥pveå®‰è£…ç¨‹åº pveå¼•å¯¼ç•Œé¢ ç‚¹agreeåŒæ„åè®® pve-license é€‰æ‹©å®‰è£…ç£ç›˜ï¼ˆè¿™é‡Œå¼€äº†ä¸ªè™šæ‹Ÿæœºæ¥æˆªå›¾ï¼‰ pve-seldisk è®¾ç½®rootå¯†ç å’Œé‚®ç®± pve-password æŒ‰å®é™…æƒ…å†µé…ç½®ç½‘ç»œï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šè‡ªåŠ¨è·å–ipç­‰ä¿¡æ¯ pve-setnetwork æœ€åç¡®è®¤ä¿¡æ¯ï¼Œç‚¹Installå®‰è£…ç³»ç»Ÿ pve-confirm Step.3 é…ç½®pveå®‰è£…å®Œåé€šè¿‡https://[ä½ è®¾ç½®çš„ipï¼Œå¦‚å›¾ä¸­çš„192.168.3.7]:8006è®¿é—®pveç®¡ç†ç•Œé¢ usernameå¡«rootï¼Œå¯†ç å¡«å®‰è£…ç³»ç»Ÿæ—¶è®¾ç½®çš„å¯†ç  pve-login è¿›å…¥ç®¡ç†ç•Œé¢ä¼šå¼¹å‡ºæ— æœ‰æ•ˆè®¢é˜…çš„æç¤ºï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åä¼šæ¶ˆé™¤ é€‰æ‹©å·¦è¾¹æ•°æ®ä¸­å¿ƒä¸‹çš„å”¯ä¸€ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç‚¹å‡»Shellè¿›å…¥ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…pvetoolsï¼š 1echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf &amp;&amp; rm /etc/apt/sources.list.d/pve-enterprise.list &amp;&amp; export LC_ALL=en_US.UTF-8 &amp;&amp; apt update &amp;&amp; apt -y install git &amp;&amp; git clone https://github.com/ivanhao/pvetools.git &amp;&amp; cd pvetools &amp;&amp; ./pvetools.sh å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€pvetoolsï¼Œè¯­è¨€é€‰æ‹©ä¸­æ–‡ pve-pvetools é…ç½®å›½å†…æºå¹¶å»é™¤è®¢é˜…æç¤ºï¼Œå…¶ä»–æŒ‰éœ€æ±‚é€‰æ‹©ï¼ˆæˆ‘çš„Openwrtéœ€è¦ä¸€ä¸ªç›´é€šç½‘å£ï¼Œè¿™é‡Œé…ç½®äº†ç›´é€šï¼‰ å®Œæˆåæ‰§è¡Œrebooté‡å¯ï¼Œè¿™æ—¶å†æ‰“å¼€ç®¡ç†ç•Œé¢ï¼Œçƒ¦äººçš„è®¢é˜…æç¤ºå·²ç»æ¶ˆå¤±äº† OpenWrtçš„å®‰è£…ä¸é…ç½®Step.1 é…ç½®è™šæ‹Ÿæœºç‚¹å‡»ç®¡ç†ç•Œé¢å³ä¸Šè§’çš„åˆ›å»ºè™šæ‹Ÿæœºï¼Œåç§°éšä¾¿ pve-createvm é€‰æ‹©ä¸ä½¿ç”¨ä»»ä½•ä»‹è´¨ pve-selsystem æœºå‹ï¼ŒBIOSä»€ä¹ˆçš„ä¿æŒé»˜è®¤ã€‚ç£ç›˜å¤§å°é»˜è®¤ï¼Œå¾…ä¼šè¦åˆ é™¤ CPUè¿™é‡Œæˆ‘é€‰æ‹©1æ ¸ pve-cpu å†…å­˜æŒ‰éœ€æ±‚å®šï¼Œè¿™é‡Œæˆ‘å¡«1024MB pve-memory ç½‘ç»œè¿™é‡Œï¼Œæ¨¡å‹é€‰virtioï¼ˆæ€§èƒ½è¾ƒé«˜ï¼Œé™¤äº†OpenWrté‡Œä¼šæç¤ºåŠåŒå·¥ï¼Œå®é™…ä¸Šæ˜¯å…¨åŒå·¥ï¼‰ã€‚è¿™é‡Œä½¿ç”¨OpenWrtçš„é˜²ç«å¢™ï¼Œå°†é˜²ç«å¢™ä¸€é¡¹å–æ¶ˆé€‰æ‹© pve-network2 æœ€ååˆ›å»ºè™šæ‹Ÿæœºï¼Œå®Œæˆååœ¨å·¦è¾¹åˆ—è¡¨é‡Œé€‰æ‹©è™šæ‹Ÿæœºï¼Œç‚¹å‡»å³è¾¹çš„ç¡¬ä»¶ï¼Œé€‰ä¸­åˆšåˆ›å»ºçš„è™šæ‹Ÿç£ç›˜ï¼Œç‚¹å‡»åˆ†ç¦»ï¼Œé€‰ä¸­åˆ†ç¦»å‡ºçš„ç¡¬ç›˜ï¼Œç‚¹å‡»åˆ é™¤ pve-deldisk Step.2 å®‰è£…OpenWrté€‰å–é€‚åˆè‡ªå·±çš„OpenWrté•œåƒï¼Œè¿™é‡Œæ¨èä¸€ä¸ª FW867&nbsp;å¤§ç¥&nbsp;KoolShare&nbsp;LEDE&nbsp;è½¯è·¯ç”±å›ºä»¶https://www.koolcenter.com/posts/49 å°†é•œåƒï¼ˆimgæ ¼å¼ï¼‰ä¸Šä¼ åˆ°pveä¸­ æ³¨ï¼šè¿™é‡Œæˆ‘åˆå¹¶äº†localå’Œlocal-lvmï¼Œå› æ­¤å›¾ä¸­åªæ˜¾ç¤ºlocal pve-uploadiso åœ¨pveçš„shellä¸­è¾“å…¥ï¼š 1qm importdisk è™šæ‹Ÿæœºid /var/lib/vz/template/iso/é•œåƒåå­—.img local-lvm å¯¼å…¥æˆåŠŸåæ˜¾ç¤ºsuccessful å›åˆ°è™šæ‹Ÿæœºç¡¬ä»¶ç•Œé¢ï¼Œé€‰ä¸­æ–°æ·»åŠ çš„ç¡¬ç›˜ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œé€‰æ‹©è®¾å¤‡ç±»å‹ä¸ºSATAï¼Œç‚¹å‡»æ·»åŠ ï¼Œå®Œæˆ pve-add-disk è¿›å…¥è™šæ‹Ÿæœºé€‰é¡¹é¡µé¢ï¼Œç‚¹å‡»å¼•å¯¼é¡ºåºï¼Œåªé€‰æ‹©æ–°æ·»åŠ çš„SATAç¡¬ç›˜ï¼Œç‚¹å‡»OKä¿å­˜ pve-boot-order å¯åŠ¨è™šæ‹Ÿæœºï¼Œè¿›å…¥openwrt è‹¥å¯åŠ¨è™šæ‹Ÿæœºæ—¶æŠ¥é”™ï¼šfailed to set iommu for container è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1echo &quot;options vfio_iommu_type1 allow_unsafe_interrupts=1&quot; &gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf è€Œåé‡å¯å³å¯è§£å†³é—®é¢˜ æœªå®Œå¾…ç»­â€¦","tags":["openwrt","pve","è½¯è·¯ç”±"]},{"path":"/about/index.html","content":"AboutGamesDevicesæ¨¡æ‹Ÿé£è¡Œçˆ±å¥½è€… &#x2F; æ‘„å½±çˆ±å¥½è€… &#x2F; PCç©å®¶ï¼Œçˆ±æŠ˜è…¾ä¸€äº›æ–°å¥‡ç©æ„NameSinceTimeArma 320181200h +Grand Theft Auto V2018200h +Cyberpunk 2077202080hEuro Truck Simulator 2202020h +DCS World202170h +TypeModelğŸ“±iPhone 13Redmi Note 8 ProğŸ“·Canon EOS R6ğŸ§Huawei Freebuds Studio"},{"title":"å‹é“¾","path":"/friends/index.html","content":"ä¹å¾—è‡ªåœ¨çš„å°ç ´ç«™é‘«å¤§çš„åšå®¢EdgelessWNGAMEBOXHoratioRan's BlogDmcimi's Blogé…¸é…¸ã®BlogBlog233"},{"title":"ä¾¿ç­¾","path":"/notes/index.html","content":""}]